try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e29f1739-569d-4280-8217-026b35a0b712",e._sentryDebugIdIdentifier="sentry-dbid-e29f1739-569d-4280-8217-026b35a0b712")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:scheduling-links":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5153],{26173:(e,t,r)=>{"use strict";r.d(t,{A:()=>m,M:()=>f});var n=r(95155);r(12115);var o=r(87890),i=r(98136),s=r(12854),a=r(13161),l=r(9723),d=r(69567),u=r(44140),c=r(40392),h=r(54670);let g=({error:e,icon:t=a.b})=>{let r=(0,h.u$)(e??{});l.A.error(r);let[g]=(0,u.c3)([r?.i18nErrorMessage??"unknownError"]);return(0,d.BI)("ERROR",{message:r?.errorMessage??g}),(0,n.jsx)(o.so,{w:"100%",h:"100%",minHeight:"80vh",minWidth:"50vw","data-test-id":"Error",bg:"bg/page",children:(0,n.jsxs)(o.so,{flexDirection:"column",flex:1,width:"100%",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(i.I,{mb:6,h:8,w:8,icon:t,color:"fg/minor"}),(0,n.jsx)(s.EY,{textStyle:"body-monoline",color:"fg/moderate",children:g}),(0,n.jsx)(c.s,{variant:"moderate",mt:4,onClick:()=>{window.location.href=window.location.href},children:"Reload"})]})})},f=({error:e,icon:t})=>(0,n.jsx)(u.YO,{children:(0,n.jsx)(g,{error:e,icon:t})}),m=g},54583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(95155),o=r(55125),i=r(26173),s=r(75011),a=r(69567),l=r(12115),d=r(76106);let u=({error:e})=>{let t=(0,d.t)(),{onClose:r}=(0,s.K)();return((0,l.useEffect)(()=>{"errorMessage"in e&&(0,a.BI)("ERROR",{message:e?.errorMessage})},[]),t)?(0,n.jsx)(s.b,{children:(0,n.jsx)(o.A,{closeModal:r,isError:!0,children:(0,n.jsx)(i.M,{error:e})})}):(0,n.jsx)(i.M,{error:e})}},55125:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n=r(95155);r(12115);var o=r(10720),i=r(35695),s=r(38140),a=r(62177),l=r(69567),d=r(59540),u=r(75011),c=r(76106),h=r(14693),g=r(64553),f=r(23105),m=r(87890);let y=(0,f.I4)(m.az)`
  margin: 0 auto;
  border: 0;
  border-radius: ${e=>e.theme.radii[8]};
`,b=(0,f.I4)(m.so)`
  border-radius: ${e=>e.theme.radii[8]};
  top: 50%;
  transform: translateY(-50%);
  position: relative;
  width: 100%;
  flex-direction: column;

  @media (min-width: ${e=>e.theme.breakpoints[1]}) and (max-width: ${e=>e.theme.breakpoints[2]}) {
    width: fit-content;
    margin: 0 auto;
    flex-direction: row;
  }
  @media (min-width: ${e=>e.theme.breakpoints[2]}) {
    width: fit-content;
    margin: 0 auto;
    flex-direction: row;
  }
`,p=({ref:e,closeModal:t,isError:r,children:f})=>{let m=(0,i.useSearchParams)(),p=(0,h.de)(),w=(0,i.useParams)(),{onClose:v}=(0,u.K)(),{data:j}=(0,g.SX)({routingId:w.routingId,tenantId:p}),x=(0,o.l)(),I=(0,i.usePathname)(),C=w.routingId&&j?.type==="PublicRoutingInfoForInProgress"&&"RoutedWithoutCalendar"!==j.launchResponse.type,k=(0,c.t)(),M=r||C,O=(0,d.m)({schedulingBranding:x,pathname:I}),R=M?O:"transparent";return k?(0,n.jsx)(s.a,{isOpen:!0,portalClassName:"Concierge-Modal-Portal",shouldCloseOnEsc:"true"===m.get("closeOnOutside"),shouldCloseOnOverlayClick:"true"===m.get("closeOnOutside"),overlayStyles:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(30px)"},onRequestClose:t||v||l.jg,ariaHideApp:!1,contentStyles:{width:"fit-content",minWidth:"370px",height:"90vh",maxHeight:"90vh"},children:(0,n.jsxs)(b,{ref:e,bg:R,padding:2,boxShadow:M?"border/popover":void 0,"data-test-id":"booking-modal",minWidth:"370px",minHeight:"36vh",width:"fit-content",children:[M&&(0,n.jsx)(a.s,{onClose:t||v||l.jg}),(0,n.jsx)(y,{width:"100%",minHeight:"30vh",height:"fit-content",bg:R,zIndex:-1,className:"chilipiper-frame",children:f})]})}):(0,n.jsx)(n.Fragment,{children:f})};p.displayName="ConciergeRouterModal";let w=p},64553:(e,t,r)=>{"use strict";r.d(t,{CU:()=>d,Aj:()=>m,bX:()=>b,Ds:()=>y,ih:()=>f,vu:()=>h,f6:()=>g,_t:()=>l,SX:()=>c,jw:()=>u,zf:()=>p});var n=r(35771),o=r(81717),i=r(52020),s=r(28755),a=r(5041);let l=e=>(0,s.I)((({routerSlug:e,tenantId:t})=>(0,o.j)({queryKey:["concierge","router",t,e],queryFn:t&&e?()=>n.us.settingsBySlug(t,e):i.hT,retry:2}))(e)),d=({routerSlug:e,tenantId:t})=>(0,o.j)({queryKey:["concierge","js-options",t,e],queryFn:t&&e?()=>Promise.resolve(null):i.hT,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),u=e=>(0,s.I)(d(e)),c=e=>(0,s.I)((({routingId:e,tenantId:t})=>(0,o.j)({queryKey:["concierge","routing",t,e],queryFn:e&&t?()=>n.us.getPublicRoutingInfo(t,e,{cache:"no-store"}):i.hT,enabled:!!(e&&t)}))(e)),h=e=>(0,s.I)((({routingId:e,tenantId:t,flowId:r,redirectType:s})=>(0,o.j)({queryKey:["concierge","live-status",t,e,r],queryFn:r?()=>n.us.getLiveFlowState(t,r):i.hT,refetchInterval:e=>(e.state.data?.status==="LookingForSource"||"OnHangUp"===s&&e.state.data?.status==="PartiesConnected")&&200}))(e)),g=e=>(0,s.I)((({tenantId:e,routerSlug:t,email:r,triggerType:s="ThirdPartyForm"})=>(0,o.j)({queryKey:["concierge","enrich-data",e,t,r,s],queryFn:r?()=>n.us.preLaunchOperationsByRouterSlug(e,t,{email:r,"trigger-type":s,"with-values":!0},{cache:"force-cache"}):i.hT}))(e)),f=({tenantId:e,routerSlug:t})=>(0,a.n)({mutationFn:({payload:r})=>n.us.launchRouting(e,t,r),retry:3,retryDelay:e=>500*e}),m=()=>(0,a.n)({mutationFn:({phoneNumber:e,tenantId:t})=>n.us.cfLiveCheckGuestNumber(t,e)}),y=()=>(0,a.n)({mutationFn:({routingId:e,tenantId:t})=>n.us.cfLiveChooseScheduling(t,e,{})}),b=()=>(0,a.n)({mutationFn:({routingId:e,tenantId:t,data:r})=>n.us.cfLiveChooseCall(t,e,r)}),p=()=>(0,a.n)({mutationFn:({routingId:e,tenantId:t,data:r})=>n.us.scheduleMeeting(t,e,r)})},75011:(e,t,r)=>{"use strict";r.d(t,{K:()=>u,b:()=>d});var n=r(95155),o=r(69567),i=r(31431),s=r.n(i),a=r(12115);let l=(0,a.createContext)(void 0),d=({children:e})=>{let t=(0,a.useRef)(o.jg),[r,i]=(0,a.useState)(!0),s=(0,a.useCallback)(e=>{t.current=e},[t]),d=(0,a.useCallback)(()=>{t.current(),i(!1)},[t]),u=(0,a.useMemo)(()=>({onClose:d,setOnCloseModal:s}),[s,d]);return r?(0,n.jsx)(l.Provider,{value:u,children:e}):null},u=()=>{let e=(0,a.use)(l);if(!e)return{onClose:o.jg,setOnCloseModal:s()};let{setOnCloseModal:t,onClose:r}=e;return{setOnCloseModal:t,onClose:r}}},76106:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var n=r(35695);let o=()=>{let e=(0,n.useSearchParams)();return!e.has("domElement")&&e.has("trigger")&&!["RestAPI","RouterLink"].includes(e.get("trigger"))||"true"===e.get("concierge")}},81485:(e,t,r)=>{Promise.resolve().then(r.bind(r,54583))}},e=>{e.O(0,[4585,4140,6642,2136,508,8140,4259,720,8441,3165,7358],()=>e(e.s=81485)),_N_E=e.O()}]);