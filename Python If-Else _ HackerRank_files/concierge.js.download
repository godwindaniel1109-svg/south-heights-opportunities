(function(){"use strict";var Wt=typeof document<"u"?document.currentScript:null,W=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis||{},Q={searchParams:"URLSearchParams"in W,iterable:"Symbol"in W&&"iterator"in Symbol,blob:"FileReader"in W&&"Blob"in W&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in W,arrayBuffer:"ArrayBuffer"in W};function Wa(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Q.arrayBuffer)var za=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Va=ArrayBuffer.isView||function(e){return e&&za.indexOf(Object.prototype.toString.call(e))>-1};function Ve(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function zt(e){return typeof e!="string"&&(e=String(e)),e}function Vt(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return Q.iterable&&(t[Symbol.iterator]=function(){return t}),t}function H(e){this.map={},e instanceof H?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}H.prototype.append=function(e,t){e=Ve(e),t=zt(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},H.prototype.delete=function(e){delete this.map[Ve(e)]},H.prototype.get=function(e){return e=Ve(e),this.has(e)?this.map[e]:null},H.prototype.has=function(e){return this.map.hasOwnProperty(Ve(e))},H.prototype.set=function(e,t){this.map[Ve(e)]=zt(t)},H.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},H.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),Vt(e)},H.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),Vt(e)},H.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),Vt(e)},Q.iterable&&(H.prototype[Symbol.iterator]=H.prototype.entries);function Yt(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function jn(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function Ya(e){var t=new FileReader,r=jn(t);return t.readAsArrayBuffer(e),r}function Ka(e){var t=new FileReader,r=jn(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=n?n[1]:"utf-8";return t.readAsText(e,o),r}function Ja(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Hn(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Gn(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Q.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Q.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Q.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Q.arrayBuffer&&Q.blob&&Wa(e)?(this._bodyArrayBuffer=Hn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Va(e))?this._bodyArrayBuffer=Hn(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Q.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Q.blob&&(this.blob=function(){var e=Yt(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Yt(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Q.blob)return this.blob().then(Ya);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=Yt(this);if(e)return e;if(this._bodyBlob)return Ka(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ja(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Q.formData&&(this.formData=function(){return this.text().then(Za)}),this.json=function(){return this.text().then(JSON.parse)},this}var Xa=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Qa(e){var t=e.toUpperCase();return Xa.indexOf(t)>-1?t:e}function Ne(e,t){if(!(this instanceof Ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof Ne){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new H(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new H(t.headers)),this.method=Qa(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in W){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ne.prototype.clone=function(){return new Ne(this,{body:this._bodyInit})};function Za(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function es(e){var t=new H,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),i=o.shift().trim();if(i){var a=o.join(":").trim();try{t.append(i,a)}catch(s){console.warn("Response "+s.message)}}}),t}Gn.call(Ne.prototype);function me(e,t){if(!(this instanceof me))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new H(t.headers),this.url=t.url||"",this._initBody(e)}Gn.call(me.prototype),me.prototype.clone=function(){return new me(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new H(this.headers),url:this.url})},me.error=function(){var e=new me(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var ts=[301,302,303,307,308];me.redirect=function(e,t){if(ts.indexOf(t)===-1)throw new RangeError("Invalid status code");return new me(null,{status:t,headers:{location:e}})};var Le=W.DOMException;try{new Le}catch{Le=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},Le.prototype=Object.create(Error.prototype),Le.prototype.constructor=Le}function _t(e,t){return new Promise(function(r,n){var o=new Ne(e,t);if(o.signal&&o.signal.aborted)return n(new Le("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var u={statusText:i.statusText,headers:es(i.getAllResponseHeaders()||"")};o.url.indexOf("file://")===0&&(i.status<200||i.status>599)?u.status=200:u.status=i.status,u.url="responseURL"in i?i.responseURL:u.headers.get("X-Request-URL");var f="response"in i?i.response:i.responseText;setTimeout(function(){r(new me(f,u))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new Le("Aborted","AbortError"))},0)};function s(u){try{return u===""&&W.location.href?W.location.href:u}catch{return u}}if(i.open(o.method,s(o.url),!0),o.credentials==="include"?i.withCredentials=!0:o.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(Q.blob?i.responseType="blob":Q.arrayBuffer&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof H||W.Headers&&t.headers instanceof W.Headers)){var c=[];Object.getOwnPropertyNames(t.headers).forEach(function(u){c.push(Ve(u)),i.setRequestHeader(u,zt(t.headers[u]))}),o.headers.forEach(function(u,f){c.indexOf(f)===-1&&i.setRequestHeader(f,u)})}else o.headers.forEach(function(u,f){i.setRequestHeader(f,u)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&o.signal.removeEventListener("abort",a)}),i.send(typeof o._bodyInit>"u"?null:o._bodyInit)})}_t.polyfill=!0,W.fetch||(W.fetch=_t,W.Headers=H,W.Request=Ne,W.Response=me);const C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,L=globalThis,Me="10.9.0";function vt(){return Et(L),L}function Et(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Me,t[Me]=t[Me]||{}}function st(e,t,r=L){const n=r.__SENTRY__=r.__SENTRY__||{},o=n[Me]=n[Me]||{};return o[e]||(o[e]=t())}const rs=["debug","info","warn","error","log","assert","trace"],ns="Sentry Logger ",bt={};function St(e){if(!("console"in L))return e();const t=L.console,r={},n=Object.keys(bt);n.forEach(o=>{const i=bt[o];r[o]=t[o],t[o]=i});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function os(){Jt().enabled=!0}function is(){Jt().enabled=!1}function Wn(){return Jt().enabled}function as(...e){Kt("log",...e)}function ss(...e){Kt("warn",...e)}function cs(...e){Kt("error",...e)}function Kt(e,...t){C&&Wn()&&St(()=>{L.console[e](`${ns}[${e}]:`,...t)})}function Jt(){return C?st("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const P={enable:os,disable:is,isEnabled:Wn,log:as,warn:ss,error:cs},zn=50,$e="?",Vn=/\(error: (.*)\)/,Yn=/captureMessage|captureException/;function us(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,o=0)=>{const i=[],a=r.split(`
`);for(let s=n;s<a.length;s++){let c=a[s];c.length>1024&&(c=c.slice(0,1024));const u=Vn.test(c)?c.replace(Vn,"$1"):c;if(!u.match(/\S*Error: /)){for(const f of t){const h=f(u);if(h){i.push(h);break}}if(i.length>=zn+o)break}}return ls(i.slice(o))}}function ls(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(wt(t).function||"")&&t.pop(),t.reverse(),Yn.test(wt(t).function||"")&&(t.pop(),Yn.test(wt(t).function||"")&&t.pop()),t.slice(0,zn).map(r=>({...r,filename:r.filename||wt(t).filename,function:r.function||$e}))}function wt(e){return e[e.length-1]||{}}const Xt="<anonymous>";function Ae(e){try{return!e||typeof e!="function"?Xt:e.name||Xt}catch{return Xt}}function Kn(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const At={},Jn={};function Ue(e,t){At[e]=At[e]||[],At[e].push(t)}function Be(e,t){if(!Jn[e]){Jn[e]=!0;try{t()}catch(r){C&&P.error(`Error while instrumenting ${e}`,r)}}}function de(e,t){const r=e&&At[e];if(r)for(const n of r)try{n(t)}catch(o){C&&P.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ae(n)}
Error:`,o)}}let Qt=null;function fs(e){const t="error";Ue(t,e),Be(t,ds)}function ds(){Qt=L.onerror,L.onerror=function(e,t,r,n,o){return de("error",{column:n,error:o,line:r,msg:e,url:t}),Qt?Qt.apply(this,arguments):!1},L.onerror.__SENTRY_INSTRUMENTED__=!0}let Zt=null;function ps(e){const t="unhandledrejection";Ue(t,e),Be(t,hs)}function hs(){Zt=L.onunhandledrejection,L.onunhandledrejection=function(e){return de("unhandledrejection",e),Zt?Zt.apply(this,arguments):!0},L.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Xn=Object.prototype.toString;function er(e){switch(Xn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ie(e,Error)}}function Ye(e,t){return Xn.call(e)===`[object ${t}]`}function Qn(e){return Ye(e,"ErrorEvent")}function Zn(e){return Ye(e,"DOMError")}function ms(e){return Ye(e,"DOMException")}function ge(e){return Ye(e,"String")}function tr(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function rr(e){return e===null||tr(e)||typeof e!="object"&&typeof e!="function"}function ct(e){return Ye(e,"Object")}function It(e){return typeof Event<"u"&&Ie(e,Event)}function ys(e){return typeof Element<"u"&&Ie(e,Element)}function gs(e){return Ye(e,"RegExp")}function Tt(e){return!!(e?.then&&typeof e.then=="function")}function _s(e){return ct(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ie(e,t){try{return e instanceof t}catch{return!1}}function eo(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function vs(e){return typeof Request<"u"&&Ie(e,Request)}const nr=L,Es=80;function to(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,o=[];let i=0,a=0;const s=" > ",c=s.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||Es;for(;r&&i++<n&&(u=bs(r,f),!(u==="html"||i>1&&a+o.length*c+u.length>=h));)o.push(u),a+=u.length,r=r.parentNode;return o.reverse().join(s)}catch{return"<unknown>"}}function bs(e,t){const r=e,n=[];if(!r?.tagName)return"";if(nr.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const o=t?.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(o?.length)o.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&ge(a)){const s=a.split(/\s+/);for(const c of s)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const s=r.getAttribute(a);s&&n.push(`[${a}="${s}"]`)}return n.join("")}function ro(){try{return nr.document.location.href}catch{return""}}function Ss(e){if(!nr.HTMLElement)return null;let t=e;const r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Pt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function no(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const o=e[n];try{eo(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Ot(e,t,r=!1){return ge(e)?gs(t)?t.test(e):ge(t)?r?e===t:e.includes(t):!1:!1}function Rt(e,t=[],r=!1){return t.some(n=>Ot(e,n,r))}function ne(e,t,r){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const o=r(n);typeof o=="function"&&oo(o,n);try{e[t]=o}catch{C&&P.log(`Failed to replace method "${t}" in object`,e)}}function qe(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{C&&P.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function oo(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,qe(e,"__sentry_original__",t)}catch{}}function or(e){return e.__sentry_original__}function io(e){if(er(e))return{message:e.message,name:e.name,stack:e.stack,...so(e)};if(It(e)){const t={type:e.type,target:ao(e.target),currentTarget:ao(e.currentTarget),...so(e)};return typeof CustomEvent<"u"&&Ie(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ao(e){try{return ys(e)?to(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function so(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function ws(e,t=40){const r=Object.keys(io(e));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return Pt(n,t);for(let o=r.length;o>0;o--){const i=r.slice(0,o).join(", ");if(!(i.length>t))return o===r.length?i:Pt(i,t)}return""}function As(){const e=L;return e.crypto||e.msCrypto}function se(e=As()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function co(e){return e.exception?.values?.[0]}function je(e){const{message:t,event_id:r}=e;if(t)return t;const n=co(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ir(e,t,r){const n=e.exception=e.exception||{},o=n.values=n.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ke(e,t){const r=co(e);if(!r)return;const n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...n,...o,...t},t&&"data"in t){const i={...o?.data,...t.data};r.mechanism.data=i}}function uo(e){if(Is(e))return!0;try{qe(e,"__sentry_captured__",!0)}catch{}return!1}function Is(e){try{return e.__sentry_captured__}catch{}}const lo=1e3;function ut(){return Date.now()/lo}function Ts(){const{performance:e}=L;if(!e?.now||!e.timeOrigin)return ut;const t=e.timeOrigin;return()=>(t+e.now())/lo}let fo;function _e(){return(fo??(fo=Ts()))()}function Ps(e){const t=_e(),r={sid:se(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Rs(r)};return e&&Je(r,e),r}function Je(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||_e(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:se()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Os(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),Je(e,r)}function Rs(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function lt(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=lt(n[o],t[o],r-1));return n}function po(){return se()}function ho(){return se().substring(16)}const ar="_sentrySpan";function mo(e,t){t?qe(e,ar,t):delete e[ar]}function yo(e){return e[ar]}const Fs=100;class ye{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:po(),sampleRand:Math.random()}}clone(){const t=new ye;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,mo(t,yo(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Je(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof ye?r.getScopeData():ct(r)?t:void 0,{tags:o,extra:i,user:a,contexts:s,level:c,fingerprint:u=[],propagationContext:f}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),f&&(this._propagationContext=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,mo(this,void 0),this._attachments=[],this.setPropagationContext({traceId:po(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:Fs;if(n<=0)return this;const o={timestamp:ut(),...t,message:t.message?Pt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:yo(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=lt(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r?.event_id||se();if(!this._client)return C&&P.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...r,event_id:n},this),n}captureMessage(t,r,n){const o=n?.event_id||se();if(!this._client)return C&&P.warn("No client configured on scope - will not capture message!"),o;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:o},this),o}captureEvent(t,r){const n=r?.event_id||se();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(C&&P.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Cs(){return st("defaultCurrentScope",()=>new ye)}function Ds(){return st("defaultIsolationScope",()=>new ye)}class ks{constructor(t,r){let n;t?n=t:n=new ye;let o;r?o=r:o=new ye,this._stack=[{scope:n}],this._isolationScope=o}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(o){throw this._popScope(),o}return Tt(n)?n.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Xe(){const e=vt(),t=Et(e);return t.stack=t.stack||new ks(Cs(),Ds())}function xs(e){return Xe().withScope(e)}function Ns(e,t){const r=Xe();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function go(e){return Xe().withScope(()=>e(Xe().getIsolationScope()))}function Ls(){return{withIsolationScope:go,withScope:xs,withSetScope:Ns,withSetIsolationScope:(e,t)=>go(t),getCurrentScope:()=>Xe().getScope(),getIsolationScope:()=>Xe().getIsolationScope()}}function sr(e){const t=Et(e);return t.acs?t.acs:Ls()}function Qe(){const e=vt();return sr(e).getCurrentScope()}function ft(){const e=vt();return sr(e).getIsolationScope()}function Ms(){return st("globalScope",()=>new ye)}function $s(...e){const t=vt(),r=sr(t);if(e.length===2){const[n,o]=e;return n?r.withSetScope(n,o):r.withScope(o)}return r.withScope(e[0])}function Z(){return Qe().getClient()}function Us(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:o}=t,i={trace_id:r,span_id:o||ho()};return n&&(i.parent_span_id=n),i}const Bs="sentry.source",qs="sentry.sample_rate",js="sentry.previous_trace_sample_rate",Hs="sentry.op",Gs="sentry.origin",_o="sentry.profile_id",vo="sentry.exclusive_time",Ws=0,zs=1,Vs="_sentryScope",Ys="_sentryIsolationScope";function Eo(e){return{scope:e[Vs],isolationScope:e[Ys]}}const Ks="sentry-",Js=/^sentry-/;function Xs(e){const t=Qs(e);if(!t)return;const r=Object.entries(t).reduce((n,[o,i])=>{if(o.match(Js)){const a=o.slice(Ks.length);n[a]=i}return n},{});if(Object.keys(r).length>0)return r}function Qs(e){if(!(!e||!ge(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{const n=bo(r);return Object.entries(n).forEach(([o,i])=>{t[o]=i}),t},{}):bo(e)}function bo(e){return e.split(",").map(t=>t.split("=").map(r=>{try{return decodeURIComponent(r.trim())}catch{return}})).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}const Zs=/^o(\d+)\./,ec=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tc(e){return e==="http"||e==="https"}function Ft(e,t=!1){const{host:r,path:n,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function rc(e){const t=ec.exec(e);if(!t){St(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,o="",i="",a="",s=""]=t.slice(1);let c="",u=s;const f=u.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),u=f.pop()),u){const h=u.match(/^\d+/);h&&(u=h[0])}return So({host:i,pass:o,path:c,projectId:u,port:a,protocol:r,publicKey:n})}function So(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function nc(e){if(!C)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(P.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?tc(n)?t&&isNaN(parseInt(t,10))?(P.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(P.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(P.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function oc(e){return e.match(Zs)?.[1]}function ic(e){const t=e.getOptions(),{host:r}=e.getDsn()||{};let n;return t.orgId?n=String(t.orgId):r&&(n=oc(r)),n}function ac(e){const t=typeof e=="string"?rc(e):So(e);if(!(!t||!nc(t)))return t}function sc(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const wo=1;let Ao=!1;function cc(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext(),o=n?t:cr(e).parent_span_id,i=Eo(e).scope,a=n?i?.getPropagationContext().propagationSpanId||ho():t;return{parent_span_id:o,span_id:a,trace_id:r}}function uc(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:r,traceFlags:n,...o},attributes:i})=>({span_id:t,trace_id:r,sampled:n===wo,attributes:i,...o}))}function Io(e){return typeof e=="number"?To(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?To(e.getTime()):_e()}function To(e){return e>9999999999?e/1e3:e}function cr(e){if(fc(e))return e.getSpanJSON();const{spanId:t,traceId:r}=e.spanContext();if(lc(e)){const{attributes:n,startTime:o,name:i,endTime:a,status:s,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:r,data:n,description:i,parent_span_id:u,start_timestamp:Io(o),timestamp:Io(a)||void 0,status:pc(s),op:n[Hs],origin:n[Gs],links:uc(c)}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function lc(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function fc(e){return typeof e.getSpanJSON=="function"}function dc(e){const{traceFlags:t}=e.spanContext();return t===wo}function pc(e){if(!(!e||e.code===Ws))return e.code===zs?"ok":e.message||"unknown_error"}const hc="_sentryRootSpan";function Po(e){return e[hc]||e}function Oo(){Ao||(St(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Ao=!0)}function mc(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Z()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const ur="production",yc="_frozenDsc";function Ro(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},o={environment:r.environment||ur,release:r.release,public_key:n,trace_id:e,org_id:ic(t)};return t.emit("createDsc",o),o}function gc(e,t){const r=t.getPropagationContext();return r.dsc||Ro(r.traceId,e)}function _c(e){const t=Z();if(!t)return{};const r=Po(e),n=cr(r),o=n.data,i=r.spanContext().traceState,a=i?.get("sentry.sample_rate")??o[qs]??o[js];function s(_){return(typeof a=="number"||typeof a=="string")&&(_.sample_rate=`${a}`),_}const c=r[yc];if(c)return s(c);const u=i?.get("sentry.dsc"),f=u&&Xs(u);if(f)return s(f);const h=Ro(e.spanContext().traceId,t),v=o[Bs],l=n.description;return v!=="url"&&l&&(h.transaction=l),mc()&&(h.sampled=String(dc(r)),h.sample_rand=i?.get("sentry.sample_rand")??Eo(r).scope?.getPropagationContext().sampleRand.toString()),s(h),t.emit("createDsc",h,r),h}function ve(e,t=100,r=1/0){try{return lr("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Fo(e,t=3,r=100*1024){const n=ve(e,t);return Sc(n)>r?Fo(e,t-1,r):n}function lr(e,t,r=1/0,n=1/0,o=wc()){const[i,a]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const s=vc(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return s.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const l=u.toJSON();return lr("",l,c-1,n,o)}catch{}const f=Array.isArray(t)?[]:{};let h=0;const v=io(t);for(const l in v){if(!Object.prototype.hasOwnProperty.call(v,l))continue;if(h>=n){f[l]="[MaxProperties ~]";break}const _=v[l];f[l]=lr(l,_,c-1,n,o),h++}return a(t),f}function vc(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&t===globalThis)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(eo(t))return"[VueViewModel]";if(_s(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ae(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=Ec(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function Ec(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function bc(e){return~-encodeURI(e).split(/%..|./).length}function Sc(e){return bc(JSON.stringify(e))}function wc(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function r(n){e.delete(n)}return[t,r]}function dt(e,t=[]){return[e,t]}function Ac(e,t){const[r,n]=e;return[r,[...n,t]]}function Co(e,t){const r=e[1];for(const n of r){const o=n[0].type;if(t(n,o))return!0}return!1}function fr(e){const t=Et(L);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Ic(e){const[t,r]=e;let n=JSON.stringify(t);function o(i){typeof n=="string"?n=typeof i=="string"?n+i:[fr(n),i]:n.push(typeof i=="string"?fr(i):i)}for(const i of r){const[a,s]=i;if(o(`
${JSON.stringify(a)}
`),typeof s=="string"||s instanceof Uint8Array)o(s);else{let c;try{c=JSON.stringify(s)}catch{c=JSON.stringify(ve(s))}o(c)}}return typeof n=="string"?n:Tc(n)}function Tc(e){const t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}function Pc(e){const t=typeof e.data=="string"?fr(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Oc={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Do(e){return Oc[e]}function ko(e){if(!e?.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Rc(e,t,r,n){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:Ft(n)},...o&&{trace:o}}}function xo(e,t){if(!t?.length||!e.description)return!1;for(const r of t){if(Cc(r)){if(Ot(e.description,r))return!0;continue}if(!r.name&&!r.op)continue;const n=r.name?Ot(e.description,r.name):!0,o=r.op?e.op&&Ot(e.op,r.op):!0;if(n&&o)return!0}return!1}function Fc(e,t){const r=t.parent_span_id,n=t.span_id;if(r)for(const o of e)o.parent_span_id===n&&(o.parent_span_id=r)}function Cc(e){return typeof e=="string"||e instanceof RegExp}function Dc(e,t){if(!t)return e;const r=e.sdk||{};return e.sdk={...r,name:r.name||t.name,version:r.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function kc(e,t,r,n){const o=ko(r),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!n&&t&&{dsn:Ft(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return dt(i,[a])}function xc(e,t,r,n){const o=ko(r),i=e.type&&e.type!=="replay_event"?e.type:"event";Dc(e,r?.sdk);const a=Rc(e,o,n,t);return delete e.sdkProcessingMetadata,dt(a,[[{type:i},e]])}const dr=0,No=1,Lo=2;function He(e){return new Te(t=>{t(e)})}function Ct(e){return new Te((t,r)=>{r(e)})}class Te{constructor(t){this._state=dr,this._handlers=[],this._runExecutor(t)}then(t,r){return new Te((n,o)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(a){o(a)}},i=>{if(!r)o(i);else try{n(r(i))}catch(a){o(a)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Te((r,n)=>{let o,i;return this.then(a=>{i=!1,o=a,t&&t()},a=>{i=!0,o=a,t&&t()}).then(()=>{if(i){n(o);return}r(o)})})}_executeHandlers(){if(this._state===dr)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===No&&r[1](this._value),this._state===Lo&&r[2](this._value),r[0]=!0)})}_runExecutor(t){const r=(i,a)=>{if(this._state===dr){if(Tt(a)){a.then(n,o);return}this._state=i,this._value=a,this._executeHandlers()}},n=i=>{r(No,i)},o=i=>{r(Lo,i)};try{t(n,o)}catch(i){o(i)}}}function pr(e,t,r,n=0){return new Te((o,i)=>{const a=e[n];if(t===null||typeof a!="function")o(t);else{const s=a({...t},r);C&&a.id&&s===null&&P.log(`Event processor "${a.id}" dropped event`),Tt(s)?s.then(c=>pr(e,c,r,n+1).then(o)).then(null,i):pr(e,s,r,n+1).then(o).then(null,i)}})}function Nc(e,t){const{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:i}=t;Lc(e,t),n&&Uc(e,n),Bc(e,r),Mc(e,o),$c(e,i)}function Mo(e,t){const{extra:r,tags:n,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:f,attachments:h,propagationContext:v,transactionName:l,span:_}=t;Dt(e,"extra",r),Dt(e,"tags",n),Dt(e,"user",o),Dt(e,"contexts",i),e.sdkProcessingMetadata=lt(e.sdkProcessingMetadata,s,2),a&&(e.level=a),l&&(e.transactionName=l),_&&(e.span=_),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...v}}function Dt(e,t,r){e[t]=lt(e[t],r,1)}function Lc(e,t){const{extra:r,tags:n,user:o,contexts:i,level:a,transactionName:s}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),a&&(e.level=a),s&&e.type!=="transaction"&&(e.transaction=s)}function Mc(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function $c(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Uc(e,t){e.contexts={trace:cc(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:_c(t),...e.sdkProcessingMetadata};const r=Po(t),n=cr(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function Bc(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let kt,$o,xt;function qc(e){const t=L._sentryDebugIds;if(!t)return{};const r=Object.keys(t);return xt&&r.length===$o||($o=r.length,xt=r.reduce((n,o)=>{kt||(kt={});const i=kt[o];if(i)n[i[0]]=i[1];else{const a=e(o);for(let s=a.length-1;s>=0;s--){const u=a[s]?.filename,f=t[o];if(u&&f){n[u]=f,kt[o]=[u,f];break}}}return n},{})),xt}function jc(e,t,r,n,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||r.event_id||se(),timestamp:t.timestamp||ut()},u=r.integrations||e.integrations.map(m=>m.name);Hc(c,e),zc(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&Gc(c,e.stackParser);const f=Yc(n,r.captureContext);r.mechanism&&Ke(c,r.mechanism);const h=o?o.getEventProcessors():[],v=Ms().getScopeData();if(i){const m=i.getScopeData();Mo(v,m)}if(f){const m=f.getScopeData();Mo(v,m)}const l=[...r.attachments||[],...v.attachments];l.length&&(r.attachments=l),Nc(c,v);const _=[...h,...v.eventProcessors];return pr(_,c,r).then(m=>(m&&Wc(m),typeof a=="number"&&a>0?Vc(m,a,s):m))}function Hc(e,t){const{environment:r,release:n,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||r||ur,!e.release&&n&&(e.release=n),!e.dist&&o&&(e.dist=o);const a=e.request;a?.url&&(a.url=Pt(a.url,i))}function Gc(e,t){const r=qc(t);e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=r[o.filename])})})}function Wc(e){const t={};if(e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach(([n,o])=>{r.push({type:"sourcemap",code_file:n,debug_id:o})})}function zc(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Vc(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:ve(o.data,t,r)}}))},...e.user&&{user:ve(e.user,t,r)},...e.contexts&&{contexts:ve(e.contexts,t,r)},...e.extra&&{extra:ve(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=ve(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>({...o,...o.data&&{data:ve(o.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=ve(e.contexts.flags,3,r)),n}function Yc(e,t){if(!t)return e;const r=e?e.clone():new ye;return r.update(t),r}function xd(e){}function Kc(e,t){return Qe().captureException(e,void 0)}function Uo(e,t){return Qe().captureEvent(e,t)}function Bo(e){const t=ft(),r=Qe(),{userAgent:n}=L.navigator||{},o=Ps({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),i=t.getSession();return i?.status==="ok"&&Je(i,{status:"exited"}),qo(),t.setSession(o),o}function qo(){const e=ft(),r=Qe().getSession()||e.getSession();r&&Os(r),jo(),e.setSession()}function jo(){const e=ft(),t=Z(),r=e.getSession();r&&t&&t.captureSession(r)}function Ho(e=!1){if(e){qo();return}jo()}const Jc="7";function Xc(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function Qc(e){return`${Xc(e)}${e.projectId}/envelope/`}function Zc(e,t){const r={sentry_version:Jc};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function eu(e,t,r){return t||`${Qc(e)}?${Zc(e,r)}`}const Go=[];function tu(e,t){const r={};return t.forEach(n=>{n&&zo(e,n,r)}),r}function Wo(e,t){for(const r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function zo(e,t,r){if(r[t.name]){C&&P.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,Go.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Go.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>n(o,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),o=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(o)}C&&P.log(`Integration installed: ${t.name}`)}function Nd(e){return e}function ru(e,t,r){const n=[{type:"client_report"},{timestamp:ut(),discarded_events:e}];return dt(t?{dsn:t}:{},[n])}function Vo(e){const t=[];e.message&&t.push(e.message);try{const r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}function nu(e){const{trace_id:t,parent_span_id:r,span_id:n,status:o,origin:i,data:a,op:s}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:s,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:a?.[_o],exclusive_time:a?.[vo],measurements:e.measurements,is_segment:!0}}function ou(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[_o]:e.profile_id},...e.exclusive_time&&{[vo]:e.exclusive_time}}}},measurements:e.measurements}}const Yo="Not capturing exception because it's already been captured.",Ko="Discarded session because of missing or non-string release",Jo=Symbol.for("SentryInternalError"),Xo=Symbol.for("SentryDoNotSendEventError");function Nt(e){return{message:e,[Jo]:!0}}function hr(e){return{message:e,[Xo]:!0}}function Qo(e){return!!e&&typeof e=="object"&&Jo in e}function Zo(e){return!!e&&typeof e=="object"&&Xo in e}class iu{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ac(t.dsn):C&&P.warn("No DSN provided, client will not send events."),this._dsn){const r=eu(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}}captureException(t,r,n){const o=se();if(uo(t))return C&&P.log(Yo),o;const i={event_id:o,...r};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,n))),i.event_id}captureMessage(t,r,n,o){const i={event_id:se(),...n},a=tr(t)?t:String(t),s=rr(t)?this.eventFromMessage(a,r,i):this.eventFromException(t,i);return this._process(s.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,r,n){const o=se();if(r?.originalException&&uo(r.originalException))return C&&P.log(Yo),o;const i={event_id:o,...r},a=t.sdkProcessingMetadata||{},s=a.capturedSpanScope,c=a.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,s||n,c)),i.event_id}captureSession(t){this.sendSession(t),Je(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(o=>n&&o))):He(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];zo(this,t,this._integrations),r||Wo(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=xc(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=Ac(n,Pc(i));const o=this.sendEnvelope(n);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const{release:r,environment:n=ur}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!r){C&&P.warn(Ko);return}i.release=i.release||r,i.environment=i.environment||n,t.attrs=i}else{if(!t.release&&!r){C&&P.warn(Ko);return}t.release=t.release||r,t.environment=t.environment||n}this.emit("beforeSendSession",t);const o=kc(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,r,n=1){if(this._options.sendClientReports){const o=`${t}:${r}`;C&&P.log(`Recording outcome: "${o}"${n>1?` (${n} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+n}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(o=>o(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(C&&P.error("Error while sending envelope:",r),r)):(C&&P.error("Transport disabled"),He({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=tu(this,t),Wo(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",o=!1;const i=r.exception?.values;if(i){o=!0;for(const c of i)if(c.mechanism?.handled===!1){n=!0;break}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(Je(t,{...n&&{status:"crashed"},errors:t.errors||Number(o||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Te(r=>{let n=0;const o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=o,t&&n>=t&&(clearInterval(i),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,o){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a?.length&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||o.setLastEventId(t.event_id||r.event_id),jc(i,t,r,n,this,o).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,r),s.contexts={trace:Us(n),...s.contexts};const c=gc(this,n);return s.sdkProcessingMetadata={dynamicSamplingContext:c,...s.sdkProcessingMetadata},s})}_captureEvent(t,r={},n=Qe(),o=ft()){return C&&mr(t)&&P.log(`Captured error event \`${Vo(t)[0]||"<unknown>"}\``),this._processEvent(t,r,n,o).then(i=>i.event_id,i=>{C&&(Zo(i)?P.log(i.message):Qo(i)?P.warn(i.message):P.warn(i))})}_processEvent(t,r,n,o){const i=this.getOptions(),{sampleRate:a}=i,s=ei(t),c=mr(t),u=t.type||"error",f=`before send for type \`${u}\``,h=typeof a>"u"?void 0:sc(a);if(c&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error"),Ct(hr(`Discarding event because it's not included in the random sample (sampling rate = ${a})`));const v=u==="replay_event"?"replay":u;return this._prepareEvent(t,r,n,o).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",v),hr("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return l;const S=su(this,i,l,r);return au(S,f)}).then(l=>{if(l===null){if(this.recordDroppedEvent("before_send",v),s){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw hr(`${f} returned \`null\`, will not send event.`)}const _=n.getSession()||o.getSession();if(c&&_&&this._updateSessionFromEvent(_,l),s){const m=l.sdkProcessingMetadata?.spanCountBeforeProcessing||0,y=l.spans?l.spans.length:0,g=m-y;g>0&&this.recordDroppedEvent("before_send","span",g)}const S=l.transaction_info;if(s&&S&&l.transaction!==t.transaction){const m="custom";l.transaction_info={...S,source:m}}return this.sendEvent(l,r),l}).then(null,l=>{throw Zo(l)||Qo(l)?l:(this.captureException(l,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:l}),Nt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[o,i]=r.split(":");return{reason:o,category:i,quantity:n}})}_flushOutcomes(){C&&P.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){C&&P.log("No outcomes to send");return}if(!this._dsn){C&&P.log("No dsn provided, will not send outcomes");return}C&&P.log("Sending outcomes:",t);const r=ru(t,this._options.tunnel&&Ft(this._dsn));this.sendEnvelope(r)}}function au(e,t){const r=`${t} must return \`null\` or a valid event.`;if(Tt(e))return e.then(n=>{if(!ct(n)&&n!==null)throw Nt(r);return n},n=>{throw Nt(`${t} rejected with ${n}`)});if(!ct(e)&&e!==null)throw Nt(r);return e}function su(e,t,r,n){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a,ignoreSpans:s}=t;let c=r;if(mr(c)&&o)return o(c,n);if(ei(c)){if(a||s){const u=nu(c);if(s?.length&&xo(u,s))return null;if(a){const f=a(u);f?c=lt(r,ou(f)):Oo()}if(c.spans){const f=[],h=c.spans;for(const l of h){if(s?.length&&xo(l,s)){Fc(h,l);continue}if(a){const _=a(l);_?f.push(_):(Oo(),f.push(l))}else f.push(l)}const v=c.spans.length-f.length;v&&e.recordDroppedEvent("before_send","span",v),c.spans=f}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,n)}}return c}function mr(e){return e.type===void 0}function ei(e){return e.type==="transaction"}function cu(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function uu(e,t,r,n){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(o.dsn=Ft(n)),dt(o,[cu(e)])}function yr(e,t){const r=lu(e)??[];if(r.length===0)return;const n=e.getOptions(),o=uu(r,n._metadata,n.tunnel,e.getDsn());ti().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function lu(e){return ti().get(e)}function ti(){return st("clientToLogBufferMap",()=>new WeakMap)}const ri=Symbol.for("SentryBufferFullError");function fu(e){const t=[];function r(){return e===void 0||t.length<e}function n(a){return t.splice(t.indexOf(a),1)[0]||Promise.resolve(void 0)}function o(a){if(!r())return Ct(ri);const s=a();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s}function i(a){return new Te((s,c)=>{let u=t.length;if(!u)return s(!0);const f=setTimeout(()=>{a&&a>0&&s(!1)},a);t.forEach(h=>{He(h).then(()=>{--u||(clearTimeout(f),s(!0))},c)})})}return{$:t,add:o,drain:i}}const du=60*1e3;function pu(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?du:n-t}function hu(e,t){return e[t]||e.all||0}function mu(e,t,r=Date.now()){return hu(e,t)>r}function yu(e,{statusCode:t,headers:r},n=Date.now()){const o={...e},i=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(i)for(const s of i.trim().split(",")){const[c,u,,,f]=s.split(":",5),h=parseInt(c,10),v=(isNaN(h)?60:h)*1e3;if(!u)o.all=n+v;else for(const l of u.split(";"))l==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(o[l]=n+v):o[l]=n+v}else a?o.all=n+pu(a,n):t===429&&(o.all=n+60*1e3);return o}const gu=64;function _u(e,t,r=fu(e.bufferSize||gu)){let n={};const o=a=>r.drain(a);function i(a){const s=[];if(Co(a,(h,v)=>{const l=Do(v);mu(n,l)?e.recordDroppedEvent("ratelimit_backoff",l):s.push(h)}),s.length===0)return He({});const c=dt(a[0],s),u=h=>{Co(c,(v,l)=>{e.recordDroppedEvent(h,Do(l))})},f=()=>t({body:Ic(c)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&C&&P.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=yu(n,h),h),h=>{throw u("network_error"),C&&P.error("Encountered error running transport request:",h),h});return r.add(f).then(h=>h,h=>{if(h===ri)return C&&P.error("Skipped sending event because buffer is full."),u("queue_overflow"),He({});throw h})}return{send:i,flush:o}}function gr(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function vu(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Eu(e,t,r=[t],n="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(i=>({name:`${n}:@sentry/${i}`,version:Me})),version:Me}),e._metadata=o}const bu=100;function Ge(e,t){const r=Z(),n=ft();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=bu}=r.getOptions();if(i<=0)return;const s={timestamp:ut(),...e},c=o?St(()=>o(s,t)):s;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,i))}let ni;const Su="FunctionToString",oi=new WeakMap,wu=()=>({name:Su,setupOnce(){ni=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=or(this),r=oi.has(Z())&&t!==void 0?t:this;return ni.apply(r,e)}}catch{}},setup(e){oi.set(e,!0)}}),Au=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Iu="EventFilters",Tu=(e={})=>{let t;return{name:Iu,setup(r){const n=r.getOptions();t=ii(e,n)},processEvent(r,n,o){if(!t){const i=o.getOptions();t=ii(e,i)}return Ou(r,t)?null:r}}},Pu=(e={})=>({...Tu(e),name:"InboundFilters"});function ii(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Au],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Ou(e,t){if(e.type){if(e.type==="transaction"&&Fu(e,t.ignoreTransactions))return C&&P.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${je(e)}`),!0}else{if(Ru(e,t.ignoreErrors))return C&&P.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${je(e)}`),!0;if(xu(e))return C&&P.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${je(e)}`),!0;if(Cu(e,t.denyUrls))return C&&P.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${je(e)}.
Url: ${Lt(e)}`),!0;if(!Du(e,t.allowUrls))return C&&P.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${je(e)}.
Url: ${Lt(e)}`),!0}return!1}function Ru(e,t){return t?.length?Vo(e).some(r=>Rt(r,t)):!1}function Fu(e,t){if(!t?.length)return!1;const r=e.transaction;return r?Rt(r,t):!1}function Cu(e,t){if(!t?.length)return!1;const r=Lt(e);return r?Rt(r,t):!1}function Du(e,t){if(!t?.length)return!0;const r=Lt(e);return r?Rt(r,t):!0}function ku(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Lt(e){try{const r=[...e.exception?.values??[]].reverse().find(n=>n.mechanism?.parent_id===void 0&&n.stacktrace?.frames?.length)?.stacktrace?.frames;return r?ku(r):null}catch{return C&&P.error(`Cannot extract url for event ${je(e)}`),null}}function xu(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Nu(e,t,r,n,o,i){if(!o.exception?.values||!i||!Ie(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=_r(e,t,n,i.originalException,r,o.exception.values,a,0))}function _r(e,t,r,n,o,i,a,s){if(i.length>=r+1)return i;let c=[...i];if(Ie(n[o],Error)){ai(a,s);const u=e(t,n[o]),f=c.length;si(u,o,f,s),c=_r(e,t,r,n[o],o,[u,...c],u,f)}return Array.isArray(n.errors)&&n.errors.forEach((u,f)=>{if(Ie(u,Error)){ai(a,s);const h=e(t,u),v=c.length;si(h,`errors[${f}]`,v,s),c=_r(e,t,r,u,o,[h,...c],h,v)}}),c}function ai(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function si(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function Lu(e){const t="console";Ue(t,e),Be(t,Mu)}function Mu(){"console"in L&&rs.forEach(function(e){e in L.console&&ne(L.console,e,function(t){return bt[e]=t,function(...r){de("console",{args:r,level:e}),bt[e]?.apply(L.console,r)}})})}function $u(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Uu="Dedupe",Bu=()=>{let e;return{name:Uu,processEvent(t){if(t.type)return t;try{if(qu(t,e))return C&&P.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function qu(e,t){return t?!!(ju(e,t)||Hu(e,t)):!1}function ju(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!ui(e,t)||!ci(e,t))}function Hu(e,t){const r=li(t),n=li(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!ui(e,t)||!ci(e,t))}function ci(e,t){let r=Kn(e),n=Kn(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){const i=n[o],a=r[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function ui(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function li(e){return e.exception?.values?.[0]}function fi(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const pt=L;function Gu(){return"history"in pt&&!!pt.history}function Wu(){if(!("fetch"in pt))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function vr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function zu(){if(typeof EdgeRuntime=="string")return!0;if(!Wu())return!1;if(vr(pt.fetch))return!0;let e=!1;const t=pt.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=vr(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){C&&P.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Vu(e,t){const r="fetch";Ue(r,e),Be(r,()=>Yu(void 0,t))}function Yu(e,t=!1){t&&!zu()||ne(L,"fetch",function(r){return function(...n){const o=new Error,{method:i,url:a}=Ku(n),s={args:n,fetchData:{method:i,url:a},startTimestamp:_e()*1e3,virtualError:o,headers:Ju(n)};return de("fetch",{...s}),r.apply(L,n).then(async c=>(de("fetch",{...s,endTimestamp:_e()*1e3,response:c}),c),c=>{if(de("fetch",{...s,endTimestamp:_e()*1e3,error:c}),er(c)&&c.stack===void 0&&(c.stack=o.stack,qe(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(s.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}function Er(e,t){return!!e&&typeof e=="object"&&!!e[t]}function di(e){return typeof e=="string"?e:e?Er(e,"url")?e.url:e.toString?e.toString():"":""}function Ku(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:di(r),method:Er(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:di(t),method:Er(t,"method")?String(t.method).toUpperCase():"GET"}}function Ju(e){const[t,r]=e;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(vs(t))return new Headers(t.headers)}catch{}}function Xu(){return"npm"}const z=L;let br=0;function pi(){return br>0}function Qu(){br++,setTimeout(()=>{br--})}function Ze(e,t={}){function r(o){return typeof o=="function"}if(!r(e))return e;try{const o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(or(e))return e}catch{return e}const n=function(...o){try{const i=o.map(a=>Ze(a,t));return e.apply(this,i)}catch(i){throw Qu(),$s(a=>{a.addEventProcessor(s=>(t.mechanism&&(ir(s,void 0),Ke(s,t.mechanism)),s.extra={...s.extra,arguments:o},s)),Kc(i)}),i}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch{}oo(n,e),qe(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function Zu(){const e=ro(),{referrer:t}=z.document||{},{userAgent:r}=z.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}function Sr(e,t){const r=Ar(e,t),n={type:ol(t),value:il(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function el(e,t,r,n){const i=Z()?.getOptions().normalizeDepth,a=ll(t),s={__serialized__:Fo(t,i)};if(a)return{exception:{values:[Sr(e,a)]},extra:s};const c={exception:{values:[{type:It(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:cl(t,{isUnhandledRejection:n})}]},extra:s};if(r){const u=Ar(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function wr(e,t){return{exception:{values:[Sr(e,t)]}}}function Ar(e,t){const r=t.stacktrace||t.stack||"",n=rl(t),o=nl(t);try{return e(r,n,o)}catch{}return[]}const tl=/Minified React error #\d+;/i;function rl(e){return e&&tl.test(e.message)?1:0}function nl(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function hi(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function ol(e){const t=e?.name;return!t&&hi(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function il(e){const t=e?.message;return hi(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function al(e,t,r,n){const o=r?.syntheticException||void 0,i=Ir(e,t,o,n);return Ke(i),i.level="error",r?.event_id&&(i.event_id=r.event_id),He(i)}function sl(e,t,r="info",n,o){const i=n?.syntheticException||void 0,a=Tr(e,t,i,o);return a.level=r,n?.event_id&&(a.event_id=n.event_id),He(a)}function Ir(e,t,r,n,o){let i;if(Qn(t)&&t.error)return wr(e,t.error);if(Zn(t)||ms(t)){const a=t;if("stack"in t)i=wr(e,t);else{const s=a.name||(Zn(a)?"DOMError":"DOMException"),c=a.message?`${s}: ${a.message}`:s;i=Tr(e,c,r,n),ir(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return er(t)?wr(e,t):ct(t)||It(t)?(i=el(e,t,r,o),Ke(i,{synthetic:!0}),i):(i=Tr(e,t,r,n),ir(i,`${t}`),Ke(i,{synthetic:!0}),i)}function Tr(e,t,r,n){const o={};if(n&&r){const i=Ar(e,r);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ke(o,{synthetic:!0})}if(tr(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return o.logentry={message:i,params:a},o}return o.message=t,o}function cl(e,{isUnhandledRejection:t}){const r=ws(e),n=t?"promise rejection":"exception";return Qn(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:It(e)?`Event \`${ul(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function ul(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ll(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}const fl=5e3;class dl extends iu{constructor(t){const r=pl(t),n=z.SENTRY_SDK_SOURCE||Xu();Eu(r,"browser",["browser"],n),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:i,enableLogs:a}=this._options;z.document&&(i||a)&&z.document.addEventListener("visibilitychange",()=>{z.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&yr(this))}),a&&(this.on("flush",()=>{yr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yr(this)},fl)})),o&&this.on("beforeSendSession",vu)}eventFromException(t,r){return al(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return sl(this._options.stackParser,t,r,n,this._options.attachStacktrace)}_prepareEvent(t,r,n,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n,o)}}function pl(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:z.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const hl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ee=L,ml=1e3;let mi,Pr,Or;function yl(e){const t="dom";Ue(t,e),Be(t,gl)}function gl(){if(!ee.document)return;const e=de.bind(null,"dom"),t=yi(e,!0);ee.document.addEventListener("click",t,!1),ee.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const o=ee[r]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(ne(o,"addEventListener",function(i){return function(a,s,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=u[a]=u[a]||{refCount:0};if(!f.handler){const h=yi(e);f.handler=h,i.call(this,a,h,c)}f.refCount++}catch{}return i.call(this,a,s,c)}}),ne(o,"removeEventListener",function(i){return function(a,s,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},f=u[a];f&&(f.refCount--,f.refCount<=0&&(i.call(this,a,f.handler,c),f.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,s,c)}}))})}function _l(e){if(e.type!==Pr)return!1;try{if(!e.target||e.target._sentryId!==Or)return!1}catch{}return!0}function vl(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function yi(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=El(r);if(vl(r.type,n))return;qe(r,"_sentryCaptured",!0),n&&!n._sentryId&&qe(n,"_sentryId",se());const o=r.type==="keypress"?"input":r.type;_l(r)||(e({event:r,name:o,global:t}),Pr=r.type,Or=n?n._sentryId:void 0),clearTimeout(mi),mi=ee.setTimeout(()=>{Or=void 0,Pr=void 0},ml)}}function El(e){try{return e.target}catch{return null}}let Mt;function gi(e){const t="history";Ue(t,e),Be(t,bl)}function bl(){if(ee.addEventListener("popstate",()=>{const t=ee.location.href,r=Mt;if(Mt=t,r===t)return;de("history",{from:r,to:t})}),!Gu())return;function e(t){return function(...r){const n=r.length>2?r[2]:void 0;if(n){const o=Mt,i=Sl(String(n));if(Mt=i,o===i)return t.apply(this,r);de("history",{from:o,to:i})}return t.apply(this,r)}}ne(ee.history,"pushState",e),ne(ee.history,"replaceState",e)}function Sl(e){try{return new URL(e,ee.location.origin).toString()}catch{return e}}const $t={};function wl(e){const t=$t[e];if(t)return t;let r=ee[e];if(vr(r))return $t[e]=r.bind(ee);const n=ee.document;if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const i=o.contentWindow;i?.[e]&&(r=i[e]),n.head.removeChild(o)}catch(o){hl&&P.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return r&&($t[e]=r.bind(ee))}function _i(e){$t[e]=void 0}const ht="__sentry_xhr_v3__";function Al(e){const t="xhr";Ue(t,e),Be(t,Il)}function Il(){if(!ee.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const o=new Error,i=_e()*1e3,a=ge(n[0])?n[0].toUpperCase():void 0,s=Tl(n[1]);if(!a||!s)return t.apply(r,n);r[ht]={method:a,url:s,request_headers:{}},a==="POST"&&s.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[ht];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}const f={endTimestamp:_e()*1e3,startTimestamp:i,xhr:r,virtualError:o};de("xhr",f)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(u,f,h){return c(),u.apply(f,h)}}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,f,h){const[v,l]=h,_=f[ht];return _&&ge(v)&&ge(l)&&(_.request_headers[v.toLowerCase()]=l),u.apply(f,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const o=r[ht];if(!o)return t.apply(r,n);n[0]!==void 0&&(o.body=n[0]);const i={startTimestamp:_e()*1e3,xhr:r};return de("xhr",i),t.apply(r,n)}})}function Tl(e){if(ge(e))return e;try{return e.toString()}catch{}}function Pl(e,t=wl("fetch")){let r=0,n=0;function o(i){const a=i.body.length;r+=a,n++;const s={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return _i("fetch"),Ct("No fetch implementation available");try{return t(e.url,s).then(c=>(r-=a,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return _i("fetch"),r-=a,n--,Ct(c)}}return _u(e,o)}const Ol=30,Rl=50;function Rr(e,t,r,n){const o={filename:e,function:t==="<anonymous>"?$e:t,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}const Fl=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Cl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Dl=/\((\S*)(?::(\d+))(?::(\d+))\)/,kl=/at (.+?) ?\(data:(.+?),/,xl=[Ol,e=>{const t=e.match(kl);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const r=Fl.exec(e);if(r){const[,o,i,a]=r;return Rr(o,$e,+i,+a)}const n=Cl.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=Dl.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,a]=vi(n[1]||$e,n[2]);return Rr(a,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],Nl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ll=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ml=us(...[xl,[Rl,e=>{const t=Nl.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Ll.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],o=t[1]||$e;return[o,n]=vi(o,n),Rr(n,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),vi=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:$e,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Fr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ut=1024,$l="Breadcrumbs",Ul=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:$l,setup(r){t.console&&Lu(jl(r)),t.dom&&yl(ql(r,t.dom)),t.xhr&&Al(Hl(r)),t.fetch&&Vu(Gl(r)),t.history&&gi(Wl(r)),t.sentry&&r.on("beforeSendEvent",Bl(r))}}};function Bl(e){return function(r){Z()===e&&Ge({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:je(r)},{event:r})}}function ql(e,t){return function(n){if(Z()!==e)return;let o,i,a=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Ut&&(Fr&&P.warn(`\`dom.maxStringLength\` cannot exceed ${Ut}, but a value of ${s} was configured. Sentry will use ${Ut} instead.`),s=Ut),typeof a=="string"&&(a=[a]);try{const u=n.event,f=zl(u)?u.target:u;o=to(f,{keyAttrs:a,maxStringLength:s}),i=Ss(f)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${n.name}`,message:o};i&&(c.data={"ui.component_name":i}),Ge(c,{event:n.event,name:n.name,global:n.global})}}function jl(e){return function(r){if(Z()!==e)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:$u(r.level),message:no(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${no(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;Ge(n,{input:r.args,level:r.level})}}function Hl(e){return function(r){if(Z()!==e)return;const{startTimestamp:n,endTimestamp:o}=r,i=r.xhr[ht];if(!n||!o||!i)return;const{method:a,url:s,status_code:c,body:u}=i,f={method:a,url:s,status_code:c},h={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:o},v={category:"xhr",data:f,type:"http",level:fi(c)};e.emit("beforeOutgoingRequestBreadcrumb",v,h),Ge(v,h)}}function Gl(e){return function(r){if(Z()!==e)return;const{startTimestamp:n,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const i=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:o},s={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,a),Ge(s,a)}else{const i=r.response,a={...r.fetchData,status_code:i?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,i?.status;const s={input:r.args,response:i,startTimestamp:n,endTimestamp:o},c={category:"fetch",data:a,type:"http",level:fi(a.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,s),Ge(c,s)}}}function Wl(e){return function(r){if(Z()!==e)return;let n=r.from,o=r.to;const i=gr(z.location.href);let a=n?gr(n):void 0;const s=gr(o);a?.path||(a=i),i.protocol===s.protocol&&i.host===s.host&&(o=s.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),Ge({category:"navigation",data:{from:n,to:o}})}}function zl(e){return!!e&&!!e.target}const Vl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yl="BrowserApiErrors",Kl=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Yl,setupOnce(){t.setTimeout&&ne(z,"setTimeout",Ei),t.setInterval&&ne(z,"setInterval",Ei),t.requestAnimationFrame&&ne(z,"requestAnimationFrame",Jl),t.XMLHttpRequest&&"XMLHttpRequest"in z&&ne(XMLHttpRequest.prototype,"send",Xl);const r=t.eventTarget;r&&(Array.isArray(r)?r:Vl).forEach(o=>Ql(o,t))}}};function Ei(e){return function(...t){const r=t[0];return t[0]=Ze(r,{mechanism:{data:{function:Ae(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Jl(e){return function(t){return e.apply(this,[Ze(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ae(e)},handled:!1,type:"instrument"}})])}}function Xl(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&ne(r,o,function(i){const a={mechanism:{data:{function:o,handler:Ae(i)},handled:!1,type:"instrument"}},s=or(i);return s&&(a.mechanism.data.handler=Ae(s)),Ze(i,a)})}),e.apply(this,t)}}function Ql(e,t){const n=z[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(ne(n,"addEventListener",function(o){return function(i,a,s){try{Zl(a)&&(a.handleEvent=Ze(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ae(a),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&ef(this,i,a),o.apply(this,[i,Ze(a,{mechanism:{data:{function:"addEventListener",handler:Ae(a),target:e},handled:!1,type:"instrument"}}),s])}}),ne(n,"removeEventListener",function(o){return function(i,a,s){try{const c=a.__sentry_wrapped__;c&&o.call(this,i,c,s)}catch{}return o.call(this,i,a,s)}}))}function Zl(e){return typeof e.handleEvent=="function"}function ef(e,t,r){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,r)}const tf=()=>({name:"BrowserSession",setupOnce(){if(typeof z.document>"u"){Fr&&P.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Bo({ignoreDuration:!0}),Ho(),gi(({from:e,to:t})=>{e!==void 0&&e!==t&&(Bo({ignoreDuration:!0}),Ho())})}}),rf="GlobalHandlers",nf=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:rf,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(of(r),bi("onerror")),t.onunhandledrejection&&(af(r),bi("onunhandledrejection"))}}};function of(e){fs(t=>{const{stackParser:r,attachStacktrace:n}=Si();if(Z()!==e||pi())return;const{msg:o,url:i,line:a,column:s,error:c}=t,u=uf(Ir(r,c||o,void 0,n,!1),i,a,s);u.level="error",Uo(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function af(e){ps(t=>{const{stackParser:r,attachStacktrace:n}=Si();if(Z()!==e||pi())return;const o=sf(t),i=rr(o)?cf(o):Ir(r,o,void 0,n,!0);i.level="error",Uo(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function sf(e){if(rr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function cf(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function uf(e,t,r,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=n,f=r,h=lf(t)??ro();return c.length===0&&c.push({colno:u,filename:h,function:$e,in_app:!0,lineno:f}),e}function bi(e){Fr&&P.log(`Global Handler attached: ${e}`)}function Si(){return Z()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function lf(e){if(!(!ge(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),r=t?t[1]:"text/javascript",n=e.includes("base64,");return`<data:${r}${n?",base64":""}>`}return e.slice(0,1024)}}const ff=()=>({name:"HttpContext",preprocessEvent(e){if(!z.navigator&&!z.location&&!z.document)return;const t=Zu(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}}),df="cause",pf=5,hf="LinkedErrors",mf=(e={})=>{const t=e.limit||pf,r=e.key||df;return{name:hf,preprocessEvent(n,o,i){const a=i.getOptions();Nu(Sr,a.stackParser,r,t,n,o)}}};function yf(e){return[Pu(),wu(),Kl(),Ul(),nf(),mf(),Bu(),ff(),tf()]}const wi=document.currentScript?.src||(typeof document>"u"?require("url").pathToFileURL(__filename).href:Wt&&Wt.tagName.toUpperCase()==="SCRIPT"&&Wt.src||new URL("cjs/concierge.js",document.baseURI).href),Ai={domain:(()=>{if(!wi)return"chilipiper.io";const t=new URL(wi).hostname,r=t.split("."),n=r.length>2?r.slice(-2).join("."):t;return n.startsWith("chilipiper.")?n:(console.warn("Could not find CP domain in snippet URL. Be aware that this warning means snippet is loaded from a different domain and may not work as expected."),"chilipiper.com")})()},Ii=new dl({dsn:"https://5acd77a479f023b04380ea323d3b0764@o94797.ingest.us.sentry.io/4508245583921152",tunnel:"https://tracking.chilipiper.io/sentry/tunnel",release:"7de1e9aa6dbd9825d8f6e52186d74e6e82320c4c",environment:Ai.domain,integrations:yf().filter(e=>!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(e.name)),transport:Pl,stackParser:Ml,beforeSend(e){const t=e.exception?.values?.flatMap(r=>r.stacktrace?.frames??[]);return!t?.length||!t.every(r=>r.filename?.includes("/concierge-js/cjs/concierge.js")||r.filename?.includes("/concierge-js/concierge.js"))?null:(console.log(e),e)}}),Cr=new ye;Cr.setClient(Ii),Ii.init();const gf=Cr.captureException.bind(Cr),mt=(...e)=>{console.group("[ChiliPiper] Log"),console.log(...e),console.groupEnd()},Dr=(...e)=>{console.group("[ChiliPiper] Error"),console.error(...e),console.groupEnd()},Y=(...e)=>{window.ChiliPiper?._marketingApi?.options?.debug&&(console.group("[ChiliPiper] Debug"),console.debug(...e),console.groupEnd())},Ti=e=>{if(!e){mt("No email value provided, skipping enrich data process");return}if(!window.ChiliPiper?._marketingApi?.popup?.isListeningForDataUpdates){mt("Chili Piper form not loaded yet, skipping enrich data process. Please ensure the form is loaded before calling ChiliPiper.enrich().");return}mt("Dispatching enrich data event for email: ",e);const t={type:"PERFORM_PRELAUNCH",data:e};window.ChiliPiper?._marketingApi?.popup?.iframe?window.ChiliPiper?._marketingApi?.popup?.iframe.contentWindow?.postMessage(t,"*"):window.self!==window.top&&window.top?.postMessage(t,"*")};function kr(e,t,r=!1){const n=document.querySelectorAll(e);if(n.length)return Y("form found: ",e),t(n);if(r)return t(n);setTimeout(()=>{kr(e,t)},500)}function _f(e){return e.query?e.query:e.formIds?e.formIds.map(t=>`#${t}`).join(","):e.formId?`#${e.formId}`:"form"}const vf=e=>{window.addEventListener("DOMContentLoaded",()=>{e()})},xr=e=>t=>kr(_f(t),r=>e({...t,shouldCheck:!0},r),!!t.lead||!!t.form),Ef=(e,t=1e3)=>{let r;return(...n)=>{r||(e(...n),r=!0,setTimeout(()=>r=!1,t))}};class Pi{constructor(t,r,n){this.setCPPopUp=o=>{this.CPPopUp=o},this.setForm=o=>{this.form=o,this.controlEmailField(),this.hideEnrichmentFields()},this.initPrelaunch=({fieldsToEnrich:o=[],emailField:i})=>{this.emailFieldName=i,this.fieldNamesToEnrich=o,this.controlEmailField(),this.hideEnrichmentFields()},this.controlEmailField=()=>{if(this.emailFieldName&&this.form)if(this.emailField=this.form.querySelector(`input[name="${this.emailFieldName}"]`),this.emailField){Y(`Email field found: ${this.emailField.name}, adding blur listener to dispatch enrich data event`);const o=()=>{Ti(this.emailField?.value)};this.emailField.onblur=o}else Y(`Email field with name ${this.emailFieldName} not found`);else Y("No email field name or form found")},this.hideEnrichmentFields=()=>{if(this.form&&this.fieldNamesToEnrich?.length){const o=this.fieldNamesToEnrich.reduce((i,a)=>`${i?`${i}, `:""}label[for*="${a}"], input[id="${a}"], input[name="${a}"], select[id="${a}"], select[name="${a}"]`,"");Y("Selector to find fields to enrich: ",o),this.fieldElementsToEnrich=this.form.querySelectorAll(o),this.fieldElementsToEnrich?.forEach(i=>{if(this.enrichmentParentSelector){Y("Enrichment parent selector: ",this.enrichmentParentSelector);const a=i.closest(this.enrichmentParentSelector);a&&(Y("Hiding enrichment parent element: ",a),a.style.display="none")}Y("Hiding field: ",i),i.style.display="none","value"in i&&(i.value="")})}else Y("Form not found or no fields to enrich are set")},this.onEnrichData=({enrichedFields:o,routingId:i})=>{Y("Enriching data: ",o),this.routingId=i,this.fieldElementsToEnrich?.forEach(a=>{const s=(()=>{if("name"in a&&typeof a.name=="string")return o[a.name];if(a.hasAttribute("for")){const c=Object.keys(o).find(u=>a.getAttribute("for")?.includes(u));return c?o[c]:void 0}return o[a.id]})();if("value"in a&&(a.value=s||"",a.setAttribute("data-enriched","true")),a.hasAttribute("required")&&(a.setAttribute("data-required","true"),a.removeAttribute("required")),s){if(this.enrichmentParentSelector){const c=a.closest(this.enrichmentParentSelector);c&&(c.style.display="none")}a.style.display="none",a.hasAttribute("required")&&(a.setAttribute("data-required","true"),a.removeAttribute("required"))}else{if(this.enrichmentParentSelector){const c=a.closest(this.enrichmentParentSelector);c&&(c.style.display="")}a.style.display="",a.hasAttribute("data-required")&&(a.setAttribute("required","true"),a.removeAttribute("data-required")),a.hasAttribute("data-enriched")&&a.removeAttribute("data-enriched")}})},this.onMessage=o=>{o.data.action==="init-prelaunch"?(this.initPrelaunch(o.data.args),this.options?.onLoadRouter?.(o.data.args.fieldsToEnrich)):o.data.action==="prelaunch-succeeded"&&(this.onEnrichData(o.data.args),this.options?.onEnrichData?.(o.data.args))},this.addPrelaunchListeners=()=>{window.addEventListener("message",this.onMessage,!1)},this.removeEventListeners=()=>{window.removeEventListener("message",this.onMessage)},this.setForm(t),this.setCPPopUp(r),this.addPrelaunchListeners(),this.options=n}}function bf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Nr,Oi;function et(){return Oi||(Oi=1,Nr=TypeError),Nr}const Sf=bf(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Lr,Ri;function Bt(){if(Ri)return Lr;Ri=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=o&&i&&typeof i.get=="function"?i.get:null,s=o&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,u=c?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,h=f?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,l=v?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,S=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,E=String.prototype.toUpperCase,w=String.prototype.toLowerCase,A=RegExp.prototype.test,I=Array.prototype.concat,O=Array.prototype.join,N=Array.prototype.slice,R=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,j=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||!0)?Symbol.toStringTag:null,Ee=Object.prototype.propertyIsEnumerable,be=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(d){return d.__proto__}:null);function D(d,p){if(d===1/0||d===-1/0||d!==d||d&&d>-1e3&&d<1e3||A.call(/e/,p))return p;var x=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof d=="number"){var U=d<0?-R(-d):R(d);if(U!==d){var B=String(U),F=g.call(p,B.length+1);return b.call(B,x,"$&_")+"."+b.call(b.call(F,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(p,x,"$&_")}var ie=Sf,Se=ie.custom,We=J(Se)?Se:null,Pe={__proto__:null,double:'"',single:"'"},Oe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Lr=function d(p,x,U,B){var F=x||{};if(re(F,"quoteStyle")&&!re(Pe,F.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(re(F,"maxStringLength")&&(typeof F.maxStringLength=="number"?F.maxStringLength<0&&F.maxStringLength!==1/0:F.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ke=re(F,"customInspect")?F.customInspect:!0;if(typeof ke!="boolean"&&ke!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(re(F,"indent")&&F.indent!==null&&F.indent!=="	"&&!(parseInt(F.indent,10)===F.indent&&F.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(re(F,"numericSeparator")&&typeof F.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ze=F.numericSeparator;if(typeof p>"u")return"undefined";if(p===null)return"null";if(typeof p=="boolean")return p?"true":"false";if(typeof p=="string")return Na(p,F);if(typeof p=="number"){if(p===0)return 1/0/p>0?"0":"-0";var ae=String(p);return ze?D(p,ae):ae}if(typeof p=="bigint"){var xe=String(p)+"n";return ze?D(p,xe):xe}var Nn=typeof F.depth>"u"?5:F.depth;if(typeof U>"u"&&(U=0),U>=Nn&&Nn>0&&typeof p=="object")return Fe(p)?"[Array]":"[Object]";var it=Cd(F,U);if(typeof B>"u")B=[];else if(De(B,p)>=0)return"[Circular]";function he(at,Gt,kd){if(Gt&&(B=N.call(B),B.push(Gt)),kd){var Ga={depth:F.depth};return re(F,"quoteStyle")&&(Ga.quoteStyle=F.quoteStyle),d(at,Ga,U+1,B)}return d(at,F,U+1,B)}if(typeof p=="function"&&!V(p)){var Ma=tt(p),$a=jt(p,he);return"[Function"+(Ma?": "+Ma:" (anonymous)")+"]"+($a.length>0?" { "+O.call($a,", ")+" }":"")}if(J(p)){var Ua=j?b.call(String(p),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(p);return typeof p=="object"&&!j?yt(Ua):Ua}if(Od(p)){for(var gt="<"+w.call(String(p.nodeName)),Ln=p.attributes||[],Ht=0;Ht<Ln.length;Ht++)gt+=" "+Ln[Ht].name+"="+Re(we(Ln[Ht].value),"double",F);return gt+=">",p.childNodes&&p.childNodes.length&&(gt+="..."),gt+="</"+w.call(String(p.nodeName))+">",gt}if(Fe(p)){if(p.length===0)return"[]";var Mn=jt(p,he);return it&&!Fd(Mn)?"["+xn(Mn,it)+"]":"[ "+O.call(Mn,", ")+" ]"}if(k(p)){var $n=jt(p,he);return!("cause"in Error.prototype)&&"cause"in p&&!Ee.call(p,"cause")?"{ ["+String(p)+"] "+O.call(I.call("[cause]: "+he(p.cause),$n),", ")+" }":$n.length===0?"["+String(p)+"]":"{ ["+String(p)+"] "+O.call($n,", ")+" }"}if(typeof p=="object"&&ke){if(We&&typeof p[We]=="function"&&ie)return ie(p,{depth:Nn-U});if(ke!=="symbol"&&typeof p.inspect=="function")return p.inspect()}if(pe(p)){var Ba=[];return n&&n.call(p,function(at,Gt){Ba.push(he(Gt,p,!0)+" => "+he(at,p))}),La("Map",r.call(p),Ba,it)}if(ot(p)){var qa=[];return s&&s.call(p,function(at){qa.push(he(at,p))}),La("Set",a.call(p),qa,it)}if(rt(p))return kn("WeakMap");if(Pd(p))return kn("WeakSet");if(nt(p))return kn("WeakRef");if($(p))return yt(he(Number(p)));if(le(p))return yt(he(M.call(p)));if(G(p))return yt(_.call(p));if(q(p))return yt(he(String(p)));if(typeof window<"u"&&p===window)return"{ [object Window] }";if(typeof globalThis<"u"&&p===globalThis||typeof globalThis<"u"&&p===globalThis)return"{ [object globalThis] }";if(!Ce(p)&&!V(p)){var Un=jt(p,he),ja=be?be(p)===Object.prototype:p instanceof Object||p.constructor===Object,Bn=p instanceof Object?"":"null prototype",Ha=!ja&&oe&&Object(p)===p&&oe in p?g.call(fe(p),8,-1):Bn?"Object":"",Dd=ja||typeof p.constructor!="function"?"":p.constructor.name?p.constructor.name+" ":"",qn=Dd+(Ha||Bn?"["+O.call(I.call([],Ha||[],Bn||[]),": ")+"] ":"");return Un.length===0?qn+"{}":it?qn+"{"+xn(Un,it)+"}":qn+"{ "+O.call(Un,", ")+" }"}return String(p)};function Re(d,p,x){var U=x.quoteStyle||p,B=Pe[U];return B+d+B}function we(d){return b.call(String(d),/"/g,"&quot;")}function ue(d){return!oe||!(typeof d=="object"&&(oe in d||typeof d[oe]<"u"))}function Fe(d){return fe(d)==="[object Array]"&&ue(d)}function Ce(d){return fe(d)==="[object Date]"&&ue(d)}function V(d){return fe(d)==="[object RegExp]"&&ue(d)}function k(d){return fe(d)==="[object Error]"&&ue(d)}function q(d){return fe(d)==="[object String]"&&ue(d)}function $(d){return fe(d)==="[object Number]"&&ue(d)}function G(d){return fe(d)==="[object Boolean]"&&ue(d)}function J(d){if(j)return d&&typeof d=="object"&&d instanceof Symbol;if(typeof d=="symbol")return!0;if(!d||typeof d!="object"||!K)return!1;try{return K.call(d),!0}catch{}return!1}function le(d){if(!d||typeof d!="object"||!M)return!1;try{return M.call(d),!0}catch{}return!1}var X=Object.prototype.hasOwnProperty||function(d){return d in this};function re(d,p){return X.call(d,p)}function fe(d){return S.call(d)}function tt(d){if(d.name)return d.name;var p=y.call(m.call(d),/^function\s*([\w$]+)/);return p?p[1]:null}function De(d,p){if(d.indexOf)return d.indexOf(p);for(var x=0,U=d.length;x<U;x++)if(d[x]===p)return x;return-1}function pe(d){if(!r||!d||typeof d!="object")return!1;try{r.call(d);try{a.call(d)}catch{return!0}return d instanceof Map}catch{}return!1}function rt(d){if(!u||!d||typeof d!="object")return!1;try{u.call(d,u);try{h.call(d,h)}catch{return!0}return d instanceof WeakMap}catch{}return!1}function nt(d){if(!l||!d||typeof d!="object")return!1;try{return l.call(d),!0}catch{}return!1}function ot(d){if(!a||!d||typeof d!="object")return!1;try{a.call(d);try{r.call(d)}catch{return!0}return d instanceof Set}catch{}return!1}function Pd(d){if(!h||!d||typeof d!="object")return!1;try{h.call(d,h);try{u.call(d,u)}catch{return!0}return d instanceof WeakSet}catch{}return!1}function Od(d){return!d||typeof d!="object"?!1:typeof HTMLElement<"u"&&d instanceof HTMLElement?!0:typeof d.nodeName=="string"&&typeof d.getAttribute=="function"}function Na(d,p){if(d.length>p.maxStringLength){var x=d.length-p.maxStringLength,U="... "+x+" more character"+(x>1?"s":"");return Na(g.call(d,0,p.maxStringLength),p)+U}var B=Oe[p.quoteStyle||"single"];B.lastIndex=0;var F=b.call(b.call(d,B,"\\$1"),/[\x00-\x1f]/g,Rd);return Re(F,"single",p)}function Rd(d){var p=d.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[p];return x?"\\"+x:"\\x"+(p<16?"0":"")+E.call(p.toString(16))}function yt(d){return"Object("+d+")"}function kn(d){return d+" { ? }"}function La(d,p,x,U){var B=U?xn(x,U):O.call(x,", ");return d+" ("+p+") {"+B+"}"}function Fd(d){for(var p=0;p<d.length;p++)if(De(d[p],`
`)>=0)return!1;return!0}function Cd(d,p){var x;if(d.indent==="	")x="	";else if(typeof d.indent=="number"&&d.indent>0)x=O.call(Array(d.indent+1)," ");else return null;return{base:x,prev:O.call(Array(p+1),x)}}function xn(d,p){if(d.length===0)return"";var x=`
`+p.prev+p.base;return x+O.call(d,","+x)+`
`+p.prev}function jt(d,p){var x=Fe(d),U=[];if(x){U.length=d.length;for(var B=0;B<d.length;B++)U[B]=re(d,B)?p(d[B],d):""}var F=typeof T=="function"?T(d):[],ke;if(j){ke={};for(var ze=0;ze<F.length;ze++)ke["$"+F[ze]]=F[ze]}for(var ae in d)re(d,ae)&&(x&&String(Number(ae))===ae&&ae<d.length||j&&ke["$"+ae]instanceof Symbol||(A.call(/[^\w$]/,ae)?U.push(p(ae,d)+": "+p(d[ae],d)):U.push(ae+": "+p(d[ae],d))));if(typeof T=="function")for(var xe=0;xe<F.length;xe++)Ee.call(d,F[xe])&&U.push("["+p(F[xe])+"]: "+p(d[F[xe]],d));return U}return Lr}var Mr,Fi;function wf(){if(Fi)return Mr;Fi=1;var e=Bt(),t=et(),r=function(s,c,u){for(var f=s,h;(h=f.next)!=null;f=h)if(h.key===c)return f.next=h.next,u||(h.next=s.next,s.next=h),h},n=function(s,c){if(s){var u=r(s,c);return u&&u.value}},o=function(s,c,u){var f=r(s,c);f?f.value=u:s.next={key:c,next:s.next,value:u}},i=function(s,c){return s?!!r(s,c):!1},a=function(s,c){if(s)return r(s,c,!0)};return Mr=function(){var c,u={assert:function(f){if(!u.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){var h=c&&c.next,v=a(c,f);return v&&h&&h===v&&(c=void 0),!!v},get:function(f){return n(c,f)},has:function(f){return i(c,f)},set:function(f,h){c||(c={next:void 0}),o(c,f,h)}};return u},Mr}var $r,Ci;function Di(){return Ci||(Ci=1,$r=Object),$r}var Ur,ki;function Af(){return ki||(ki=1,Ur=Error),Ur}var Br,xi;function If(){return xi||(xi=1,Br=EvalError),Br}var qr,Ni;function Tf(){return Ni||(Ni=1,qr=RangeError),qr}var jr,Li;function Pf(){return Li||(Li=1,jr=ReferenceError),jr}var Hr,Mi;function Of(){return Mi||(Mi=1,Hr=SyntaxError),Hr}var Gr,$i;function Rf(){return $i||($i=1,Gr=URIError),Gr}var Wr,Ui;function Ff(){return Ui||(Ui=1,Wr=Math.abs),Wr}var zr,Bi;function Cf(){return Bi||(Bi=1,zr=Math.floor),zr}var Vr,qi;function Df(){return qi||(qi=1,Vr=Math.max),Vr}var Yr,ji;function kf(){return ji||(ji=1,Yr=Math.min),Yr}var Kr,Hi;function xf(){return Hi||(Hi=1,Kr=Math.pow),Kr}var Jr,Gi;function Nf(){return Gi||(Gi=1,Jr=Math.round),Jr}var Xr,Wi;function Lf(){return Wi||(Wi=1,Xr=Number.isNaN||function(t){return t!==t}),Xr}var Qr,zi;function Mf(){if(zi)return Qr;zi=1;var e=Lf();return Qr=function(r){return e(r)||r===0?r:r<0?-1:1},Qr}var Zr,Vi;function $f(){return Vi||(Vi=1,Zr=Object.getOwnPropertyDescriptor),Zr}var en,Yi;function Ki(){if(Yi)return en;Yi=1;var e=$f();if(e)try{e([],"length")}catch{e=null}return en=e,en}var tn,Ji;function Uf(){if(Ji)return tn;Ji=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return tn=e,tn}var rn,Xi;function Bf(){return Xi||(Xi=1,rn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0}),rn}var nn,Qi;function qf(){if(Qi)return nn;Qi=1;var e=typeof Symbol<"u"&&Symbol,t=Bf();return nn=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},nn}var on,Zi;function ea(){return Zi||(Zi=1,on=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),on}var an,ta;function ra(){if(ta)return an;ta=1;var e=Di();return an=e.getPrototypeOf||null,an}var sn,na;function jf(){if(na)return sn;na=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(c,u){for(var f=[],h=0;h<c.length;h+=1)f[h]=c[h];for(var v=0;v<u.length;v+=1)f[v+c.length]=u[v];return f},i=function(c,u){for(var f=[],h=u,v=0;h<c.length;h+=1,v+=1)f[v]=c[h];return f},a=function(s,c){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=c);return u};return sn=function(c){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=i(arguments,1),h,v=function(){if(this instanceof h){var y=u.apply(this,o(f,arguments));return Object(y)===y?y:this}return u.apply(c,o(f,arguments))},l=r(0,u.length-f.length),_=[],S=0;S<l;S++)_[S]="$"+S;if(h=Function("binder","return function ("+a(_,",")+"){ return binder.apply(this,arguments); }")(v),u.prototype){var m=function(){};m.prototype=u.prototype,h.prototype=new m,m.prototype=null}return h},sn}var cn,oa;function qt(){if(oa)return cn;oa=1;var e=jf();return cn=Function.prototype.bind||e,cn}var un,ia;function ln(){return ia||(ia=1,un=Function.prototype.call),un}var fn,aa;function sa(){return aa||(aa=1,fn=Function.prototype.apply),fn}var dn,ca;function Hf(){return ca||(ca=1,dn=typeof Reflect<"u"&&Reflect&&Reflect.apply),dn}var pn,ua;function Gf(){if(ua)return pn;ua=1;var e=qt(),t=sa(),r=ln(),n=Hf();return pn=n||e.call(r,t),pn}var hn,la;function fa(){if(la)return hn;la=1;var e=qt(),t=et(),r=ln(),n=Gf();return hn=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return n(e,r,i)},hn}var mn,da;function Wf(){if(da)return mn;da=1;var e=fa(),t=Ki(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return mn=n&&typeof n.get=="function"?e([n.get]):typeof i=="function"?function(s){return i(s==null?s:o(s))}:!1,mn}var yn,pa;function zf(){if(pa)return yn;pa=1;var e=ea(),t=ra(),r=Wf();return yn=e?function(o){return e(o)}:t?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return t(o)}:r?function(o){return r(o)}:null,yn}var gn,ha;function Vf(){if(ha)return gn;ha=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=qt();return gn=r.call(e,t),gn}var _n,ma;function vn(){if(ma)return _n;ma=1;var e,t=Di(),r=Af(),n=If(),o=Tf(),i=Pf(),a=Of(),s=et(),c=Rf(),u=Ff(),f=Cf(),h=Df(),v=kf(),l=xf(),_=Nf(),S=Mf(),m=Function,y=function(V){try{return m('"use strict"; return ('+V+").constructor;")()}catch{}},g=Ki(),b=Uf(),E=function(){throw new s},w=g?function(){try{return arguments.callee,E}catch{try{return g(arguments,"callee").get}catch{return E}}}():E,A=qf()(),I=zf(),O=ra(),N=ea(),R=sa(),M=ln(),T={},K=typeof Uint8Array>"u"||!I?e:I(Uint8Array),j={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":A&&I?I([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&I?I(I([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!I?e:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":g,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!I?e:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&I?I(""[Symbol.iterator]()):e,"%Symbol%":A?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":w,"%TypedArray%":K,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":R,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":O,"%Math.abs%":u,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":v,"%Math.pow%":l,"%Math.round%":_,"%Math.sign%":S,"%Reflect.getPrototypeOf%":N};if(I)try{null.error}catch(V){var oe=I(I(V));j["%Error.prototype%"]=oe}var Ee=function V(k){var q;if(k==="%AsyncFunction%")q=y("async function () {}");else if(k==="%GeneratorFunction%")q=y("function* () {}");else if(k==="%AsyncGeneratorFunction%")q=y("async function* () {}");else if(k==="%AsyncGenerator%"){var $=V("%AsyncGeneratorFunction%");$&&(q=$.prototype)}else if(k==="%AsyncIteratorPrototype%"){var G=V("%AsyncGenerator%");G&&I&&(q=I(G.prototype))}return j[k]=q,q},be={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},D=qt(),ie=Vf(),Se=D.call(M,Array.prototype.concat),We=D.call(R,Array.prototype.splice),Pe=D.call(M,String.prototype.replace),Oe=D.call(M,String.prototype.slice),Re=D.call(M,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,Fe=function(k){var q=Oe(k,0,1),$=Oe(k,-1);if(q==="%"&&$!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if($==="%"&&q!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var G=[];return Pe(k,we,function(J,le,X,re){G[G.length]=X?Pe(re,ue,"$1"):le||J}),G},Ce=function(k,q){var $=k,G;if(ie(be,$)&&(G=be[$],$="%"+G[0]+"%"),ie(j,$)){var J=j[$];if(J===T&&(J=Ee($)),typeof J>"u"&&!q)throw new s("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:G,name:$,value:J}}throw new a("intrinsic "+k+" does not exist!")};return _n=function(k,q){if(typeof k!="string"||k.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof q!="boolean")throw new s('"allowMissing" argument must be a boolean');if(Re(/^%?[^%]*%?$/,k)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=Fe(k),G=$.length>0?$[0]:"",J=Ce("%"+G+"%",q),le=J.name,X=J.value,re=!1,fe=J.alias;fe&&(G=fe[0],We($,Se([0,1],fe)));for(var tt=1,De=!0;tt<$.length;tt+=1){var pe=$[tt],rt=Oe(pe,0,1),nt=Oe(pe,-1);if((rt==='"'||rt==="'"||rt==="`"||nt==='"'||nt==="'"||nt==="`")&&rt!==nt)throw new a("property names with quotes must have matching quotes");if((pe==="constructor"||!De)&&(re=!0),G+="."+pe,le="%"+G+"%",ie(j,le))X=j[le];else if(X!=null){if(!(pe in X)){if(!q)throw new s("base intrinsic for "+k+" exists, but the property is not available.");return}if(g&&tt+1>=$.length){var ot=g(X,pe);De=!!ot,De&&"get"in ot&&!("originalValue"in ot.get)?X=ot.get:X=X[pe]}else De=ie(X,pe),X=X[pe];De&&!re&&(j[le]=X)}}return X},_n}var En,ya;function ga(){if(ya)return En;ya=1;var e=vn(),t=fa(),r=t([e("%String.prototype.indexOf%")]);return En=function(o,i){var a=e(o,!!i);return typeof a=="function"&&r(o,".prototype.")>-1?t([a]):a},En}var bn,_a;function va(){if(_a)return bn;_a=1;var e=vn(),t=ga(),r=Bt(),n=et(),o=e("%Map%",!0),i=t("Map.prototype.get",!0),a=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),c=t("Map.prototype.delete",!0),u=t("Map.prototype.size",!0);return bn=!!o&&function(){var h,v={assert:function(l){if(!v.has(l))throw new n("Side channel does not contain "+r(l))},delete:function(l){if(h){var _=c(h,l);return u(h)===0&&(h=void 0),_}return!1},get:function(l){if(h)return i(h,l)},has:function(l){return h?s(h,l):!1},set:function(l,_){h||(h=new o),a(h,l,_)}};return v},bn}var Sn,Ea;function Yf(){if(Ea)return Sn;Ea=1;var e=vn(),t=ga(),r=Bt(),n=va(),o=et(),i=e("%WeakMap%",!0),a=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),c=t("WeakMap.prototype.has",!0),u=t("WeakMap.prototype.delete",!0);return Sn=i?function(){var h,v,l={assert:function(_){if(!l.has(_))throw new o("Side channel does not contain "+r(_))},delete:function(_){if(i&&_&&(typeof _=="object"||typeof _=="function")){if(h)return u(h,_)}else if(n&&v)return v.delete(_);return!1},get:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&h?a(h,_):v&&v.get(_)},has:function(_){return i&&_&&(typeof _=="object"||typeof _=="function")&&h?c(h,_):!!v&&v.has(_)},set:function(_,S){i&&_&&(typeof _=="object"||typeof _=="function")?(h||(h=new i),s(h,_,S)):n&&(v||(v=n()),v.set(_,S))}};return l}:n,Sn}var wn,ba;function Kf(){if(ba)return wn;ba=1;var e=et(),t=Bt(),r=wf(),n=va(),o=Yf(),i=o||n||r;return wn=function(){var s,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){return!!s&&s.delete(u)},get:function(u){return s&&s.get(u)},has:function(u){return!!s&&s.has(u)},set:function(u,f){s||(s=i()),s.set(u,f)}};return c},wn}var An,Sa;function In(){if(Sa)return An;Sa=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return An={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},An}var Tn,wa;function Aa(){if(wa)return Tn;wa=1;var e=In(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var m=[],y=0;y<256;++y)m.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return m}(),o=function(y){for(;y.length>1;){var g=y.pop(),b=g.obj[g.prop];if(r(b)){for(var E=[],w=0;w<b.length;++w)typeof b[w]<"u"&&E.push(b[w]);g.obj[g.prop]=E}}},i=function(y,g){for(var b=g&&g.plainObjects?{__proto__:null}:{},E=0;E<y.length;++E)typeof y[E]<"u"&&(b[E]=y[E]);return b},a=function m(y,g,b){if(!g)return y;if(typeof g!="object"&&typeof g!="function"){if(r(y))y.push(g);else if(y&&typeof y=="object")(b&&(b.plainObjects||b.allowPrototypes)||!t.call(Object.prototype,g))&&(y[g]=!0);else return[y,g];return y}if(!y||typeof y!="object")return[y].concat(g);var E=y;return r(y)&&!r(g)&&(E=i(y,b)),r(y)&&r(g)?(g.forEach(function(w,A){if(t.call(y,A)){var I=y[A];I&&typeof I=="object"&&w&&typeof w=="object"?y[A]=m(I,w,b):y.push(w)}else y[A]=w}),y):Object.keys(g).reduce(function(w,A){var I=g[A];return t.call(w,A)?w[A]=m(w[A],I,b):w[A]=I,w},E)},s=function(y,g){return Object.keys(g).reduce(function(b,E){return b[E]=g[E],b},y)},c=function(m,y,g){var b=m.replace(/\+/g," ");if(g==="iso-8859-1")return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},u=1024,f=function(y,g,b,E,w){if(y.length===0)return y;var A=y;if(typeof y=="symbol"?A=Symbol.prototype.toString.call(y):typeof y!="string"&&(A=String(y)),b==="iso-8859-1")return escape(A).replace(/%u[0-9a-f]{4}/gi,function(K){return"%26%23"+parseInt(K.slice(2),16)+"%3B"});for(var I="",O=0;O<A.length;O+=u){for(var N=A.length>=u?A.slice(O,O+u):A,R=[],M=0;M<N.length;++M){var T=N.charCodeAt(M);if(T===45||T===46||T===95||T===126||T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122||w===e.RFC1738&&(T===40||T===41)){R[R.length]=N.charAt(M);continue}if(T<128){R[R.length]=n[T];continue}if(T<2048){R[R.length]=n[192|T>>6]+n[128|T&63];continue}if(T<55296||T>=57344){R[R.length]=n[224|T>>12]+n[128|T>>6&63]+n[128|T&63];continue}M+=1,T=65536+((T&1023)<<10|N.charCodeAt(M)&1023),R[R.length]=n[240|T>>18]+n[128|T>>12&63]+n[128|T>>6&63]+n[128|T&63]}I+=R.join("")}return I},h=function(y){for(var g=[{obj:{o:y},prop:"o"}],b=[],E=0;E<g.length;++E)for(var w=g[E],A=w.obj[w.prop],I=Object.keys(A),O=0;O<I.length;++O){var N=I[O],R=A[N];typeof R=="object"&&R!==null&&b.indexOf(R)===-1&&(g.push({obj:A,prop:N}),b.push(R))}return o(g),y},v=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},l=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},_=function(y,g){return[].concat(y,g)},S=function(y,g){if(r(y)){for(var b=[],E=0;E<y.length;E+=1)b.push(g(y[E]));return b}return g(y)};return Tn={arrayToObject:i,assign:s,combine:_,compact:h,decode:c,encode:f,isBuffer:l,isRegExp:v,maybeMap:S,merge:a},Tn}var Pn,Ia;function Jf(){if(Ia)return Pn;Ia=1;var e=Kf(),t=Aa(),r=In(),n=Object.prototype.hasOwnProperty,o={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,y){return m+"["+y+"]"},repeat:function(m){return m}},i=Array.isArray,a=Array.prototype.push,s=function(S,m){a.apply(S,i(m)?m:[m])},c=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(m){return c.call(m)},skipNulls:!1,strictNullHandling:!1},h=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},v={},l=function S(m,y,g,b,E,w,A,I,O,N,R,M,T,K,j,oe,Ee,be){for(var D=m,ie=be,Se=0,We=!1;(ie=ie.get(v))!==void 0&&!We;){var Pe=ie.get(m);if(Se+=1,typeof Pe<"u"){if(Pe===Se)throw new RangeError("Cyclic object value");We=!0}typeof ie.get(v)>"u"&&(Se=0)}if(typeof N=="function"?D=N(y,D):D instanceof Date?D=T(D):g==="comma"&&i(D)&&(D=t.maybeMap(D,function(le){return le instanceof Date?T(le):le})),D===null){if(w)return O&&!oe?O(y,f.encoder,Ee,"key",K):y;D=""}if(h(D)||t.isBuffer(D)){if(O){var Oe=oe?y:O(y,f.encoder,Ee,"key",K);return[j(Oe)+"="+j(O(D,f.encoder,Ee,"value",K))]}return[j(y)+"="+j(String(D))]}var Re=[];if(typeof D>"u")return Re;var we;if(g==="comma"&&i(D))oe&&O&&(D=t.maybeMap(D,O)),we=[{value:D.length>0?D.join(",")||null:void 0}];else if(i(N))we=N;else{var ue=Object.keys(D);we=R?ue.sort(R):ue}var Fe=I?String(y).replace(/\./g,"%2E"):String(y),Ce=b&&i(D)&&D.length===1?Fe+"[]":Fe;if(E&&i(D)&&D.length===0)return Ce+"[]";for(var V=0;V<we.length;++V){var k=we[V],q=typeof k=="object"&&k&&typeof k.value<"u"?k.value:D[k];if(!(A&&q===null)){var $=M&&I?String(k).replace(/\./g,"%2E"):String(k),G=i(D)?typeof g=="function"?g(Ce,$):Ce:Ce+(M?"."+$:"["+$+"]");be.set(m,Se);var J=e();J.set(v,be),s(Re,S(q,G,g,b,E,w,A,I,g==="comma"&&oe&&i(D)?null:O,N,R,M,T,K,j,oe,Ee,J))}}return Re},_=function(m){if(!m)return f;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=m.charset||f.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=r.default;if(typeof m.format<"u"){if(!n.call(r.formatters,m.format))throw new TypeError("Unknown format option provided.");g=m.format}var b=r.formatters[g],E=f.filter;(typeof m.filter=="function"||i(m.filter))&&(E=m.filter);var w;if(m.arrayFormat in o?w=m.arrayFormat:"indices"in m?w=m.indices?"indices":"repeat":w=f.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:f.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:f.addQueryPrefix,allowDots:A,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:w,charset:y,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?f.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:f.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:f.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:f.encodeValuesOnly,filter:E,format:g,formatter:b,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:f.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:f.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:f.strictNullHandling}};return Pn=function(S,m){var y=S,g=_(m),b,E;typeof g.filter=="function"?(E=g.filter,y=E("",y)):i(g.filter)&&(E=g.filter,b=E);var w=[];if(typeof y!="object"||y===null)return"";var A=o[g.arrayFormat],I=A==="comma"&&g.commaRoundTrip;b||(b=Object.keys(y)),g.sort&&b.sort(g.sort);for(var O=e(),N=0;N<b.length;++N){var R=b[N],M=y[R];g.skipNulls&&M===null||s(w,l(M,R,A,I,g.allowEmptyArrays,g.strictNullHandling,g.skipNulls,g.encodeDotInKeys,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,O))}var T=w.join(g.delimiter),K=g.addQueryPrefix===!0?"?":"";return g.charsetSentinel&&(g.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),T.length>0?K+T:""},Pn}var On,Ta;function Xf(){if(Ta)return On;Ta=1;var e=Aa(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(v){return v.replace(/&#(\d+);/g,function(l,_){return String.fromCharCode(parseInt(_,10))})},i=function(v,l,_){if(v&&typeof v=="string"&&l.comma&&v.indexOf(",")>-1)return v.split(",");if(l.throwOnLimitExceeded&&_>=l.arrayLimit)throw new RangeError("Array limit exceeded. Only "+l.arrayLimit+" element"+(l.arrayLimit===1?"":"s")+" allowed in an array.");return v},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",c=function(l,_){var S={__proto__:null},m=_.ignoreQueryPrefix?l.replace(/^\?/,""):l;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=_.parameterLimit===1/0?void 0:_.parameterLimit,g=m.split(_.delimiter,_.throwOnLimitExceeded?y+1:y);if(_.throwOnLimitExceeded&&g.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var b=-1,E,w=_.charset;if(_.charsetSentinel)for(E=0;E<g.length;++E)g[E].indexOf("utf8=")===0&&(g[E]===s?w="utf-8":g[E]===a&&(w="iso-8859-1"),b=E,E=g.length);for(E=0;E<g.length;++E)if(E!==b){var A=g[E],I=A.indexOf("]="),O=I===-1?A.indexOf("="):I+1,N,R;O===-1?(N=_.decoder(A,n.decoder,w,"key"),R=_.strictNullHandling?null:""):(N=_.decoder(A.slice(0,O),n.decoder,w,"key"),R=e.maybeMap(i(A.slice(O+1),_,r(S[N])?S[N].length:0),function(T){return _.decoder(T,n.decoder,w,"value")})),R&&_.interpretNumericEntities&&w==="iso-8859-1"&&(R=o(String(R))),A.indexOf("[]=")>-1&&(R=r(R)?[R]:R);var M=t.call(S,N);M&&_.duplicates==="combine"?S[N]=e.combine(S[N],R):(!M||_.duplicates==="last")&&(S[N]=R)}return S},u=function(v,l,_,S){var m=0;if(v.length>0&&v[v.length-1]==="[]"){var y=v.slice(0,-1).join("");m=Array.isArray(l)&&l[y]?l[y].length:0}for(var g=S?l:i(l,_,m),b=v.length-1;b>=0;--b){var E,w=v[b];if(w==="[]"&&_.parseArrays)E=_.allowEmptyArrays&&(g===""||_.strictNullHandling&&g===null)?[]:e.combine([],g);else{E=_.plainObjects?{__proto__:null}:{};var A=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,I=_.decodeDotInKeys?A.replace(/%2E/g,"."):A,O=parseInt(I,10);!_.parseArrays&&I===""?E={0:g}:!isNaN(O)&&w!==I&&String(O)===I&&O>=0&&_.parseArrays&&O<=_.arrayLimit?(E=[],E[O]=g):I!=="__proto__"&&(E[I]=g)}g=E}return g},f=function(l,_,S,m){if(l){var y=S.allowDots?l.replace(/\.([^.[]+)/g,"[$1]"):l,g=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,E=S.depth>0&&g.exec(y),w=E?y.slice(0,E.index):y,A=[];if(w){if(!S.plainObjects&&t.call(Object.prototype,w)&&!S.allowPrototypes)return;A.push(w)}for(var I=0;S.depth>0&&(E=b.exec(y))!==null&&I<S.depth;){if(I+=1,!S.plainObjects&&t.call(Object.prototype,E[1].slice(1,-1))&&!S.allowPrototypes)return;A.push(E[1])}if(E){if(S.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+S.depth+" and strictDepth is true");A.push("["+y.slice(E.index)+"]")}return u(A,_,S,m)}},h=function(l){if(!l)return n;if(typeof l.allowEmptyArrays<"u"&&typeof l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof l.decodeDotInKeys<"u"&&typeof l.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(l.decoder!==null&&typeof l.decoder<"u"&&typeof l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof l.charset<"u"&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof l.throwOnLimitExceeded<"u"&&typeof l.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var _=typeof l.charset>"u"?n.charset:l.charset,S=typeof l.duplicates>"u"?n.duplicates:l.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof l.allowDots>"u"?l.decodeDotInKeys===!0?!0:n.allowDots:!!l.allowDots;return{allowDots:m,allowEmptyArrays:typeof l.allowEmptyArrays=="boolean"?!!l.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof l.allowPrototypes=="boolean"?l.allowPrototypes:n.allowPrototypes,allowSparse:typeof l.allowSparse=="boolean"?l.allowSparse:n.allowSparse,arrayLimit:typeof l.arrayLimit=="number"?l.arrayLimit:n.arrayLimit,charset:_,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:n.charsetSentinel,comma:typeof l.comma=="boolean"?l.comma:n.comma,decodeDotInKeys:typeof l.decodeDotInKeys=="boolean"?l.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof l.decoder=="function"?l.decoder:n.decoder,delimiter:typeof l.delimiter=="string"||e.isRegExp(l.delimiter)?l.delimiter:n.delimiter,depth:typeof l.depth=="number"||l.depth===!1?+l.depth:n.depth,duplicates:S,ignoreQueryPrefix:l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof l.interpretNumericEntities=="boolean"?l.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof l.parameterLimit=="number"?l.parameterLimit:n.parameterLimit,parseArrays:l.parseArrays!==!1,plainObjects:typeof l.plainObjects=="boolean"?l.plainObjects:n.plainObjects,strictDepth:typeof l.strictDepth=="boolean"?!!l.strictDepth:n.strictDepth,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof l.throwOnLimitExceeded=="boolean"?l.throwOnLimitExceeded:!1}};return On=function(v,l){var _=h(l);if(v===""||v===null||typeof v>"u")return _.plainObjects?{__proto__:null}:{};for(var S=typeof v=="string"?c(v,_):v,m=_.plainObjects?{__proto__:null}:{},y=Object.keys(S),g=0;g<y.length;++g){var b=y[g],E=f(b,S[b],_,typeof v=="string");m=e.merge(m,E,_)}return _.allowSparse===!0?m:e.compact(m)},On}var Rn,Pa;function Qf(){if(Pa)return Rn;Pa=1;var e=Jf(),t=Xf(),r=In();return Rn={formats:r,parse:t,stringify:e},Rn}var Oa=Qf();const Zf=/^(?:https:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?%#[\]@!\$&'\(\)\*\+,;=.]+$/m,ed=e=>Zf.test(e)?(e.startsWith("https")?window.location.href=e:window.location.href=`https://${e}`,!0):(console.error("Invalid redirect URL"),!1);class td{constructor(t,r,n){this.redirect={},this.globalEvents=[],this.setData=(o,i)=>{this.data=o,this.domElement=i,this.redirect={}},this.onMessage=o=>{o.data?.action==="close"?this.close():o.data.action==="REDIRECT"?ed(o.data.url)||this.removeLayout():o.data.action==="booking-confirmed"?this.form.onSuccess(o.data.args):o.data.action==="error"?this.form.onError(o.data.args):o.data.action==="prospect-routed"?this.options.onRouted?.(o.data.args):o.data.action==="prospect-disqualified"?this.options.onDisqualified?.():o.data.action==="routing"?this.options.onRouting?.():o.data.action==="started-listening-form-data-update"?this.isListeningForDataUpdates=!0:o.data.action==="stopped-listening-form-data-update"&&(this.isListeningForDataUpdates=!1)},this.addAndRegisterListener=(o,i)=>{this.globalEvents.push({event:o,callback:i}),window.addEventListener(o,i)},this.removeEventListeners=()=>{this.globalEvents.forEach(({event:o,callback:i})=>{window.removeEventListener(o,i)}),this.globalEvents=[]},this.form=t,this.options=t.options,this.isPopupOpen=!1,this.data={},this.domElement=r,this.crmEvent=n,this.redirect={},this.isListeningForDataUpdates=!1,window.addEventListener?this.addAndRegisterListener("message",this.onMessage):window.attachEvent&&window.attachEvent("onmessage",this.onMessage,!1),this.buildLayout()}removeLayout(){this.layout&&(this.layout.parentNode?this.layout.parentNode?.removeChild(this.layout):this.getParentNode().removeChild(this.layout),this.layout=void 0,this.isPopupOpen=!1,this.data={})}close(){this.removeLayout(),this.buildLayout(),this.form.onClose(!1),this.isListeningForDataUpdates=!0}destroy(){this.isPopupOpen&&(console.group("Concierge called twice, removing first popup. Please, remove one of the calls to avoid unexpected behavior."),console.trace(),console.groupEnd(),this.removeLayout(),this.removeEventListeners())}getParentNode(){if(!this.domElement)return document.body;if(typeof this.domElement=="string"){const t=document.querySelector(this.domElement);return t||document.body}return this.domElement}getOptions(){return{by:this.options.by,locale:this.options.locale,accountId:this.options.accountId,closeOnOutside:this.options.closeOnOutside,dynamicRedirectLink:this.options.dynamicRedirectLink,caseId:this.options.caseId,assigneeCrmId:this.options.assigneeCrmId,domElement:this.options.domElement,type:this.options.type,trigger:this.options.trigger||"ThirdPartyForm",ownerId:this.options.ownerId,objectId:this.options.objectId,attendees:this.options.attendees,...Object.keys(this.options.event||{}).reduce((t,r)=>(t[`event_${r}`]=this.options.event?.[r],t),{}),meetingTypeId:this.options.meetingTypeId,campaignId:this.options.campaignId,status:this.options.status,opportunityId:this.options.opportunityId,disableRelation:this.options.disableRelation}}getPopUpData(){const t=this.getOptions();delete this.data[""],delete this.data.hs_context;const r=i=>i&&new DOMParser().parseFromString(i,"text/html").documentElement.textContent;return{...{...Object.fromEntries(Object.entries(this.data).map(([i,a])=>[i,r(a)])),...t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},sourceUrl:window.location.href}}getPopUpBaseUrl(){const{domain:t,router:r}=this.options;return r||console.error("chilipiper >> ","No router slug provided"),t||console.error("chilipiper >> ","No domain provided"),`${`https://${t}.${Ai.domain}`}/concierge-router/${r.toLowerCase()}`}getPopUpUrl(){const t=this.getPopUpData(),r=Oa.stringify(Object.fromEntries(Object.entries(t).filter(([o,i])=>i!==void 0&&i!==""&&i!==null))),n=`${this.getPopUpBaseUrl()}?${r}`;return console.log({data:t,link:n}),n}buildLayout(){if(!this.layout){const r=document.createElement("div");this.domElement?(r.style.position="relative",r.style.width="100%",r.style.height="100%"):(r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.position="fixed"),r.style.zIndex="-1",this.getParentNode().appendChild(r),this.layout=r}const t=document.createElement("iframe");t.className="chilipiper-frame",t.src=this.getPopUpUrl(),t.style.border="0",t.style.overflow="hidden",t.style.height="0",t.style.width="1px",t.style.minWidth="0",this.layout.appendChild(t),this.iframe=t}updateFormData(t=1){const r=this.iframe;if(r){if(this.isListeningForDataUpdates||t===30){const n=this.getPopUpData();return console.log({data:n}),r.contentWindow?.postMessage({type:"UPDATE_CONCIERGE_FORM_DATA",data:Oa.stringify({...n})},"*")}setTimeout(()=>{this.updateFormData(t+1)},100*t)}}showPopUp(){const t=this.layout,r=this.iframe;if(!this.options.domain){this.form.onError("The domain cannot be empty");return}t&&r&&(t.style.zIndex="99999",r.style.height="100%",r.style.minWidth="100%",this.isPopupOpen=!0,r.focus(),this.updateFormData())}}class te{constructor(t){const r=()=>!0;this.options=Object.freeze(Object.assign(t,{onError:t.onError||r,onSuccess:t.onSuccess||r,onClose:t.onClose||r,onRouting:t.onRouting||r,onDisqualified:t.onDisqualified||r,onLoadRouter:t.onLoadRouter||r,onEnrichData:t.onEnrichData||r,onBeforeSubmit:t.onBeforeSubmit||r})),this.popup=new td(this,t.domElement,t.event),this.prelaunch=new Pi(t.form,this.popup,this.options),this.prelaunch.enrichmentParentSelector=t.enrichmentParentSelector||t.enrichmentParentDivClassName,this.form=t.form,window.ChiliPiper&&(window.ChiliPiper._marketingApi=this)}setForm(t){if(t)if("querySelector"in t)this.form=t,this.prelaunch.setForm(t);else{const r="get"in t?t.get(0):t[0];this.prelaunch.setForm(r)}}get formId(){return this.options.formId}get formOptions(){return{by:this.options.by,formIds:this.options.formIds,formId:this.options.formId,debug:this.options.debug===!0,trigger:this.options.trigger||"ThirdPartyForm",domain:this.options.domain,router:this.options.router,locale:this.options.locale,ownerId:this.options.ownerId,accountId:this.options.accountId,type:this.options.type,disableRelation:this.options.disableRelation}}async showCalendar(t,r){let n=t;if(this.options.onBeforeSubmit){const o=await this.options.onBeforeSubmit(t);typeof o=="object"&&(n=o)}this.popup.setData(n,r),this.popup.showPopUp()}onError(t){let r="An error has occured";t&&(r=t.responseText||t.response||t),console.error("chilipiper >> ",r);const n={message:r,error:t};this.options.onError&&this.options.onError(n)}onSuccess(t){this.options.onSuccess&&this.options.onSuccess(t)}onClose(t){this.options.onClose&&!t&&this.options.onClose(),this.prelaunch.removeEventListeners()}reduceForm(t){return t?Array.from(t.elements).filter(n=>(n.type!=="radio"||n.type==="radio"&&n.checked===!0)&&n.type!=="password").filter(n=>n.name&&n.name!=="password").reduce((n,o)=>{const i=o.name?.includes(".")?o.name.split(".").join(""):o.name;return o.hasAttribute("data-enriched")||(o.type==="checkbox"?o.checked&&(n[i]=o.value):n[i]=o.value),n},{}):{}}}class Ra extends te{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",t=>this.handleSubmit(t))}handleSubmit(t){t.preventDefault();const r=this.postUrl();r&&this.sendData(r,this.formData),this.showCalendar(this.formData)}get formData(){return this.reduceForm(this.form)}sendData(t,r){const n=new FormData;for(const o in r)n.append(o,r[o]);_t(t,{method:"POST",body:n,credentials:"include"})}postUrl(){const t=this.form||document.getElementsByTagName("form")[0];if(t?.action)return t.action}}class rd extends Ra{addSubmitHandler(){this.instrumentMarketoForm(this.formId)}instrumentMarketoForm(t){const r=window.MktoForms2?.getForm(t)||window.MktoForms2?.allForms()[0];r?.getId()?(this.marketoForm=r,this.marketoButton=this.marketoForm.getFormElem().find(".mktoButton"),this.marketoButtonTitle=this.marketoButton.html(),r.onSuccess(n=>(this.showCalendar(n),!1))):setTimeout(()=>this.instrumentMarketoForm(t),500)}get formOptions(){return{by:this.options.by,formIds:this.options.formIds,formId:this.options.formId,debug:this.options.debug===!0,domain:this.options.domain,router:this.options.router,locale:this.options.locale,accountId:this.options.accountId,type:this.options.type,trigger:this.options.trigger||"ThirdPartyForm",ownerId:this.options.ownerId,disableRelation:this.options.disableRelation}}onClose(t){super.onClose(t),this.marketoForm.submittable(!0),this.marketoButton.removeAttr("disabled").html(this.marketoButtonTitle)}}class nd extends te{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",()=>this.handleSubmit())}handleSubmit(){const t=this.formData;t.sender="form",window.localStorage.setItem("dataPardot",JSON.stringify(t))}get formData(){return this.reduceForm(this.form)}}class Fa extends te{constructor(t){super(t),this.addSubmitHandler()}addSubmitHandler(){this.form?.addEventListener("submit",t=>{this.storeData(t),this.handleSubmit(t),this.postUrl()})}storeData(t){this.hubspotForm=t.target;const r=this.formData;window.localStorage.setItem("hubspotData",JSON.stringify(r))}handleSubmit(t){t.target.id.includes("hsForm")&&(this.hubspotForm=t.target,this.hubspotForm.checkValidity()&&document.getElementsByClassName("hs_email")[0].childElementCount<4&&this.showCalendar(this.formData))}get formData(){return this.reduceForm(this.hubspotForm)}sendData(t,r,n){const o=new FormData;for(const i in r)o.append(i,r[i]);o.set("meeting_booked_cp",String(n)),_t(t,{method:"POST",body:o,mode:"no-cors",credentials:"include"})}postUrl(){const t=this.form||document.getElementsByTagName("form")[0];t?.action&&(this.actionUrl=t.action)}onSuccess(){const t=this.formData,r=this.actionUrl;t.meeting_booked_cp&&r&&this.sendData(r,t,!0)}onClose(){}}const od=e=>{const t={},r=new te(e),n=decodeURIComponent(document.location.search.replace(/\+/g," ")),i=new URLSearchParams(n).entries();let a=!1;for(const[s,c]of i)s.toLowerCase().includes("email")&&c.includes("@")?(t[s]=c.replaceAll(" ","+"),a=!0):t[s]=c;a&&(ce({...e,lead:{...t,...e.lead??{}},map:!0},r),console.log(t))},id=e=>{const t=new te(e);ce({...e,map:!0},t)},ad=(e={})=>Object.keys(e).reduce((t,r)=>(Array.isArray(e[r])?t[r]=e[r].toString().replaceAll(",",";"):t[r]=e[r],t),{}),sd=(e,t)=>{const r=e.formIds??[],n=new te(e);let o={};window.addEventListener("hs-form-event:on-submission:success",i=>{const a=window.HubspotFormsV4?.getFormFromEvent(i);if(!a||r.length>0&&!r.includes(a.getFormId()))return;const s=c=>{o=c.reduce((u,{name:f,value:h})=>(Array.isArray(h)&&(h=h.join(";")),u[f]=h,u),{}),console.log(o),ce({...e,map:!0,lead:{...o,...e.lead??{}}},n,t)};a.getFormFieldValues().then(s).catch(c=>{console.error("Error loading form values from Hubspot",c)})}),window.addEventListener("message",i=>{if(!(r.length>0&&!r.includes(String(i.data.id)))&&(["hsFormCallback","hsCallsToActionCallback"].includes(i.data.type)&&["onFormSubmitted","onCallToActionFormSubmitted"].includes(i.data.eventName)&&(Object.keys(o).length===0&&(o=ad(i.data.data.submissionValues)),console.log(o),ce({...e,map:!0,lead:{...o,...e.lead??{}}},n,t)),i.data.type==="hsFormCallback"&&i.data.eventName==="onBeforeFormSubmit"&&(o=(i.data.data||[]).reduce((a,s)=>(Array.isArray(s.value)?a[s.name]=s.value.toString().replaceAll(",",";"):a[s.name]=s.value,a),{}),console.log("onBeforeFormSubmit",o)),i.data.type==="hsFormCallback"&&i.data.eventName==="onFormReady")){const a=e.formId?`form[data-form-id="${e.formId}"]`:`form[data-form-id="${i.data.id}"]`;kr(a,s=>n.setForm(s[0]))}})},cd=e=>{const t=new te(e);window.addEventListener("message",function(r){if(r.data.conversionId){const n={},o=document.querySelectorAll('form[data-form-id="'+e.formId+'"] input,select')??[];for(let i=0;i<o.length;i++)n[o[i].name]=o[i].value;ce({...e,map:!0,lead:{...n,...e.lead??{}}},t)}})},ud=e=>{if(window.MktoForms2){const t=new te(e);window.MktoForms2.whenReady(r=>{const n=r.getId().toString().replace("mktoForm_",""),o=e.formId?String(e.formId).replace("mktoForm_",""):e.formIds?.length?e.formIds.find(a=>String(a).replace("mktoForm_","")===n)?.replace("mktoForm_",""):n;Y("form ready",n);const i=document.querySelector(`form[id="mktoForm_${o}"], form[data-marketo-form-id="${o}"]`);i&&(mt("form found",o),t.prelaunch.enrichmentParentSelector=".mktoFormRow",t.setForm(i)),r.onSuccess(a=>o===n?(ce({...e,map:!0,lead:{...a,...e.lead??{}}},t),!1):(Dr(`Submitted form ID ${n} is not in the options`),!0))})}else Dr("Marketo form not found")},ld="Email",fd=e=>{xa({...e,queryVariable:e.queryVariable??ld})},dd=e=>e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(t){return+t==0?"":t.toUpperCase()}),pd=(e="")=>dd(e).replace(/[^\w]/gi,""),hd=(e="")=>e.split(" ").find(t=>t.toLocaleLowerCase().indexOf("cp_")===0),md=e=>{const t={},r=decodeURIComponent(document.location.search.replace(/\+/g," ")),o=new URLSearchParams(r).entries();let i=!1;for(const[a,s]of o)a.toLowerCase().includes("email")&&s.includes("@")?(t[a]=s.replaceAll(" ","+"),i=!0):t[a]=s;if(i){const a=new te({...e,domain:t.CPTenantDomain,router:t.CPTenantRouter,lead:{...t,...e.lead??{}}});ce({...a.options},a),Y(t,e)}},yd=(e,t,r)=>{const n={CPTenantDomain:e,CPTenantRouter:t};return r.querySelectorAll(".form-field").forEach(i=>{const a=i.querySelector("label.field-label"),s=i.querySelector("input, select, textarea");if(!s)return;if(s.hasAttribute("data-enriched")){Y(`not sending enriched value for element ${s.id}`);return}const c=hd(s.parentElement?.className)||pd(a?.textContent||"")||s.id||"[unnamed field]";let u="[not provided]";if(s instanceof HTMLSelectElement){const f=s.options[s.selectedIndex];u=s.selectedIndex===0?"[not provided]":f?.text??"[not provided]"}else if(s instanceof HTMLInputElement)if(s.type==="checkbox")u=String(s.checked);else if(s.type==="radio")if(s.checked)u=s.value;else return;else u=s.value?.trim()||"[not provided]";else"value"in s&&typeof s.value=="string"&&(u=s.value.trim());s.id&&(n[s.id]=u),n[c]=u}),Y(n),n},gd=e=>{const t=e.formId??'#pardot-form, form[action*="https://go.pardot.com"]',r=new Pi,n=i=>()=>{const a=yd(e.domain,e.router,i);r.routingId&&(a.routingId=r.routingId);const s={message:"PARDOT_DATA_READY",data:a};window.parent.postMessage(s,"*"),Y(a,e)},o=(i=1)=>{const a=document.querySelector(t);if(a){r.setForm(a),a.addEventListener("submit",n(a));return}(!(typeof e.retryFormSearch<"u")||e.retryFormSearch)&&i<10?setTimeout(()=>{o(i+1)},1e3):Y("no form found on this page, id used - "+t,e)};o()},Ca=()=>{const e={message:"PARDOT_FORM_SUCCESS",data:window.location.search};window.parent.postMessage(e,"*")},Da=e=>{const t=new te(e),r=document.querySelector('iframe[src*="pardot"]');if(r){const i=a=>{a.data.type==="PERFORM_PRELAUNCH"&&t.popup.iframe?t.popup.iframe.contentWindow?.postMessage({...a.data},"*"):r.contentWindow?.postMessage({...a.data},"*")};window.addEventListener("message",i)}let n={};const o=i=>{if(i.data?.message&&(i.data.message==="PARDOT_DATA_READY"&&i.data.data&&(n=i.data.data),i.data.message==="PARDOT_FORM_SUCCESS")){if(Object.keys(n).length===0){const a=decodeURIComponent(i.data.data.replace(/\+/g," ")),c=new URLSearchParams(a).entries();for(const[u,f]of c)n[u]=f}ce({domain:n.CPTenantDomain||e.domain,router:n.CPTenantRouter||e.router,lead:{...n,...e.lead??{}}},t)}};window.addEventListener("message",o,!1)},_d=e=>{window.instapageFormSubmitSuccess=function(t){const r=new te(e),n={};for(let o=0;o<t.elements.length;o++){const i=t.elements[o];i.name&&(n[i.name]=i.value)}ce({...e,lead:{...n,...e.lead}},r)}},vd=e=>{const t=new te(e);if(window.form&&window.madkudu&&"show_modal"in window.form){const r=window.form,n=window.madkudu.user().traits(),o=n.first_name||"Howdy",i={lead:{...n,FirstName:n.first_name||"",LastName:n.last_name||" ",Email:n.email,Company:n.company?.name||""}},a={title:`${o}, you qualify for the fast lane!`,subtitle:"Our scoring tells us you should get access to our calendar now.",cta_yes:"Book time with us",cta_no:"No thanks."};r.show_modal(a),setTimeout(()=>{document.querySelectorAll(".madkudu_modal__accept").forEach(s=>{s.addEventListener("click",()=>{ce({...e,lead:{...e.lead,...i.lead}},t)})})},300)}},Ed=(e,t)=>{switch(e.formType){case"Hubspot":sd(e,t);break;case"HubspotPopup":cd(e);break;case"PardotFormHandler":md(e);break;case"PardotIframeThankYouCode":Ca();break;case"PardotIframeParentPage":Da(e);break;case"PardotFormHandlerThankYouCode":Da(e),Ca();break;case"PardotLookAndFeel":gd(e);break;case"Marketo":ud(e);break;case"GravityForms":od(e);break;case"GravityFormsOnFormPage":id(e);break;case"Typeform":fd(e);break;case"Instapage":_d(e);break;case"Madkudu":vd(e);break;default:xr(Fn)(e);break}};console.log("Concierge version","1.37.1");const bd=(e,t)=>{const r=e.id??"",n=typeof hbspt<"u"&&r.includes("hsForm"),o=r.includes("mktoForm")&&window.MktoForms2!==void 0,i=r==="pardot-form"||r.includes("gform");return n?new Fa({...t,form:e}):o?new rd({form:e,formId:r,...t}):i?new nd({form:e,...t}):new Ra({form:e,...t})},Sd=(e,t)=>Array.from(t).map(n=>bd(n,e)),wd=e=>{const t=JSON.parse(window.localStorage.getItem("hubspotData")||"");new Fa({...e}).showCalendar(t,e.domElement)};let ka=20;const Fn=(e,t)=>{t.length>0?Sd(e,t):window.location.href.includes("hsFormGuid")&&window.location.href.includes("submissionGuid")?wd(e):ka>0?(ka-=1,setTimeout(()=>{Fn(e,t)},1e3)):Dr("Could not integrate [form absent]")},Ad=(e,t)=>r=>{e.showCalendar(t,r.domElement)},ce=Ef((e,t,r)=>{window.ChiliPiper?._marketingApi&&window.ChiliPiper?._marketingApi.popup.destroy();try{mt("Submitting and routing form with options: ",e);const n=e.form||(r?r[0]:void 0);if(t.setForm(n),e.lead)t.showCalendar(e.lead,e.domElement);else{const o=Array.from(n?.elements??[]).reduce((i,a)=>(i[a.name]=a.value,i),{});Ad(t,o)(e)}}catch(n){gf(n)}}),Cn=()=>{const t=window.location.search.substring(1).split("&"),r={};for(let n=0;n<t.length;n++){const o=t[n].split("=");r[o[0]]=decodeURIComponent(o[1])}return r},Id=e=>Cn()[e]||!1,Td=e=>{const t=Cn();return Object.keys(t).some(r=>r.toLowerCase().includes(e.toLowerCase()))},xa=e=>{if((e.checkInclusive?Td:Id)(e.queryVariable||"email")){const r={...e,lead:{...e.lead||{},...Cn()}},n=new te(r);ce({...r},n)}},Dn={getQuery:(e,t,r={})=>vf(()=>xa({domain:e,router:t,...r})),scheduling:(e,t,r={})=>xr(Fn)({domain:e,router:t,...r}),submit:(e,t,r={})=>xr((n,o)=>{const i=window.ChiliPiper?._marketingApi||new te(n),a={...i.options,...n,lead:n.lead};return i.options=a,ce(a,i,o)})({domain:e,router:t,...r}),deploy:(e,t,r={})=>Ed({domain:e,router:t,...r}),setForm:e=>{window.ChiliPiper?._marketingApi.setForm(e)},init:e=>{new te(e)},enrich:e=>{if(!window.ChiliPiper?._marketingApi)throw new Error("Script not initialized, please run ChiliPiper.init() first");Ti(e)},closePopup:()=>{window.ChiliPiper?._marketingApi&&window.ChiliPiper._marketingApi.popup.close()}};window.ChiliPiper&&Object.keys(window.ChiliPiper).forEach(e=>{window.ChiliPiper[e].cp?.length&&window.ChiliPiper[e].cp.forEach(t=>Dn[e](...t)),window.ChiliPiper[e].q?.length&&window.ChiliPiper[e].q.forEach(t=>Dn[e](...t))}),globalThis.ChiliPiper=Dn})();
//# sourceMappingURL=concierge.js.map
