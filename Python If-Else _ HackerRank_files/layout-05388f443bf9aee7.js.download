try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="31ed22a7-cd0e-4523-a759-f330f615e6c3",e._sentryDebugIdIdentifier="sentry-dbid-31ed22a7-cd0e-4523-a759-f330f615e6c3")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:scheduling-links":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2500],{12382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(95155),i=r(12115),a=r(55125),s=r(75011),o=r(89443),u=r(35695),d=r(62971);let l=({children:e})=>{let t=(0,d.G)(),r=(0,u.useParams)();return(0,i.useEffect)(()=>{t(r.routingId)},[r]),(0,n.jsx)(s.b,{children:(0,n.jsx)(a.A,{children:(0,n.jsx)(o.vl,{children:e})})})}},43398:(e,t,r)=>{Promise.resolve().then(r.bind(r,12382))},55125:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var n=r(95155);r(12115);var i=r(10720),a=r(35695),s=r(38140),o=r(62177),u=r(69567),d=r(59540),l=r(75011),c=r(76106),h=r(14693),g=r(64553),f=r(23105),y=r(87890);let m=(0,f.I4)(y.az)`
  margin: 0 auto;
  border: 0;
  border-radius: ${e=>e.theme.radii[8]};
`,b=(0,f.I4)(y.so)`
  border-radius: ${e=>e.theme.radii[8]};
  top: 50%;
  transform: translateY(-50%);
  position: relative;
  width: 100%;
  flex-direction: column;

  @media (min-width: ${e=>e.theme.breakpoints[1]}) and (max-width: ${e=>e.theme.breakpoints[2]}) {
    width: fit-content;
    margin: 0 auto;
    flex-direction: row;
  }
  @media (min-width: ${e=>e.theme.breakpoints[2]}) {
    width: fit-content;
    margin: 0 auto;
    flex-direction: row;
  }
`,p=({ref:e,closeModal:t,isError:r,children:f})=>{let y=(0,a.useSearchParams)(),p=(0,h.de)(),v=(0,a.useParams)(),{onClose:w}=(0,l.K)(),{data:C}=(0,g.SX)({routingId:v.routingId,tenantId:p}),j=(0,i.l)(),x=(0,a.usePathname)(),I=v.routingId&&C?.type==="PublicRoutingInfoForInProgress"&&"RoutedWithoutCalendar"!==C.launchResponse.type,k=(0,c.t)(),F=r||I,O=(0,d.m)({schedulingBranding:j,pathname:x}),P=F?O:"transparent";return k?(0,n.jsx)(s.a,{isOpen:!0,portalClassName:"Concierge-Modal-Portal",shouldCloseOnEsc:"true"===y.get("closeOnOutside"),shouldCloseOnOverlayClick:"true"===y.get("closeOnOutside"),overlayStyles:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(30px)"},onRequestClose:t||w||u.jg,ariaHideApp:!1,contentStyles:{width:"fit-content",minWidth:"370px",height:"90vh",maxHeight:"90vh"},children:(0,n.jsxs)(b,{ref:e,bg:P,padding:2,boxShadow:F?"border/popover":void 0,"data-test-id":"booking-modal",minWidth:"370px",minHeight:"36vh",width:"fit-content",children:[F&&(0,n.jsx)(o.s,{onClose:t||w||u.jg}),(0,n.jsx)(m,{width:"100%",minHeight:"30vh",height:"fit-content",bg:P,zIndex:-1,className:"chilipiper-frame",children:f})]})}):(0,n.jsx)(n.Fragment,{children:f})};p.displayName="ConciergeRouterModal";let v=p},62971:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(12115),i=r(32056);let a=()=>(0,n.useCallback)(e=>{let t={...(0,i.YB)()};e?t["x-routing-id"]=e:delete t["x-routing-id"],(0,i.cr)(t)},[])},64553:(e,t,r)=>{"use strict";r.d(t,{CU:()=>d,Aj:()=>y,bX:()=>b,Ds:()=>m,ih:()=>f,vu:()=>h,f6:()=>g,_t:()=>u,SX:()=>c,jw:()=>l,zf:()=>p});var n=r(35771),i=r(81717),a=r(52020),s=r(28755),o=r(5041);let u=e=>(0,s.I)((({routerSlug:e,tenantId:t})=>(0,i.j)({queryKey:["concierge","router",t,e],queryFn:t&&e?()=>n.us.settingsBySlug(t,e):a.hT,retry:2}))(e)),d=({routerSlug:e,tenantId:t})=>(0,i.j)({queryKey:["concierge","js-options",t,e],queryFn:t&&e?()=>Promise.resolve(null):a.hT,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),l=e=>(0,s.I)(d(e)),c=e=>(0,s.I)((({routingId:e,tenantId:t})=>(0,i.j)({queryKey:["concierge","routing",t,e],queryFn:e&&t?()=>n.us.getPublicRoutingInfo(t,e,{cache:"no-store"}):a.hT,enabled:!!(e&&t)}))(e)),h=e=>(0,s.I)((({routingId:e,tenantId:t,flowId:r,redirectType:s})=>(0,i.j)({queryKey:["concierge","live-status",t,e,r],queryFn:r?()=>n.us.getLiveFlowState(t,r):a.hT,refetchInterval:e=>(e.state.data?.status==="LookingForSource"||"OnHangUp"===s&&e.state.data?.status==="PartiesConnected")&&200}))(e)),g=e=>(0,s.I)((({tenantId:e,routerSlug:t,email:r,triggerType:s="ThirdPartyForm"})=>(0,i.j)({queryKey:["concierge","enrich-data",e,t,r,s],queryFn:r?()=>n.us.preLaunchOperationsByRouterSlug(e,t,{email:r,"trigger-type":s,"with-values":!0},{cache:"force-cache"}):a.hT}))(e)),f=({tenantId:e,routerSlug:t})=>(0,o.n)({mutationFn:({payload:r})=>n.us.launchRouting(e,t,r),retry:3,retryDelay:e=>500*e}),y=()=>(0,o.n)({mutationFn:({phoneNumber:e,tenantId:t})=>n.us.cfLiveCheckGuestNumber(t,e)}),m=()=>(0,o.n)({mutationFn:({routingId:e,tenantId:t})=>n.us.cfLiveChooseScheduling(t,e,{})}),b=()=>(0,o.n)({mutationFn:({routingId:e,tenantId:t,data:r})=>n.us.cfLiveChooseCall(t,e,r)}),p=()=>(0,o.n)({mutationFn:({routingId:e,tenantId:t,data:r})=>n.us.scheduleMeeting(t,e,r)})},75011:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,b:()=>d});var n=r(95155),i=r(69567),a=r(31431),s=r.n(a),o=r(12115);let u=(0,o.createContext)(void 0),d=({children:e})=>{let t=(0,o.useRef)(i.jg),[r,a]=(0,o.useState)(!0),s=(0,o.useCallback)(e=>{t.current=e},[t]),d=(0,o.useCallback)(()=>{t.current(),a(!1)},[t]),l=(0,o.useMemo)(()=>({onClose:d,setOnCloseModal:s}),[s,d]);return r?(0,n.jsx)(u.Provider,{value:l,children:e}):null},l=()=>{let e=(0,o.use)(u);if(!e)return{onClose:i.jg,setOnCloseModal:s()};let{setOnCloseModal:t,onClose:r}=e;return{setOnCloseModal:t,onClose:r}}},76106:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(35695);let i=()=>{let e=(0,n.useSearchParams)();return!e.has("domElement")&&e.has("trigger")&&!["RestAPI","RouterLink"].includes(e.get("trigger"))||"true"===e.get("concierge")}}},e=>{e.O(0,[4585,4140,6642,2136,508,6766,7778,5513,8140,6640,720,6712,8441,3165,7358],()=>e(e.s=43398)),_N_E=e.O()}]);